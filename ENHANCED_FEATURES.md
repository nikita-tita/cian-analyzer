# ‚ú® –£–ª—É—á—à–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è - –ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

## üéØ –ß—Ç–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ –≤ web_dashboard_enhanced.py

### ‚úÖ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —É–ª—É—á—à–µ–Ω–∏—è (P0) - –†–ï–ê–õ–ò–ó–û–í–ê–ù–û

#### 1. –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –≤—ã–±—Ä–æ—Å–æ–≤ (**¬±3œÉ –ø—Ä–∞–≤–∏–ª–æ**)

**–ë—ã–ª–æ:**
```python
# –ù–µ—Ç —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ - –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤—Å–µ –∞–Ω–∞–ª–æ–≥–∏
```

**–°—Ç–∞–ª–æ:**
```python
def filter_outliers(self) -> List[Dict]:
    """
    –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –≤—ã–±—Ä–æ—Å–æ–≤ –ø–æ –ø—Ä–∞–≤–∏–ª—É ¬±3œÉ

    –ò—Å–∫–ª—é—á–∞–µ—Ç –∞–Ω–∞–ª–æ–≥–∏ —Å–æ —Å–ª–∏—à–∫–æ–º —ç–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω—ã–º–∏ —Ü–µ–Ω–∞–º–∏:
    - –¶–µ–Ω–∞/–º¬≤ > (–°—Ä–µ–¥–Ω—è—è + 3√óœÉ) ‚Üí –∏—Å–∫–ª—é—á–∏—Ç—å
    - –¶–µ–Ω–∞/–º¬≤ < (–°—Ä–µ–¥–Ω—è—è - 3√óœÉ) ‚Üí –∏—Å–∫–ª—é—á–∏—Ç—å
    """
    mean = statistics.mean(prices_per_sqm)
    stdev = statistics.stdev(prices_per_sqm)

    filtered = [
        c for c in self.comparables
        if abs(c.get('price_per_sqm', mean) - mean) <= 3 * stdev
    ]
    return filtered
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ë–æ–ª–µ–µ —Ç–æ—á–Ω—ã–µ —Ä–∞—Å—á–µ—Ç—ã, –∏—Å–∫–ª—é—á–µ–Ω—ã –∞–Ω–æ–º–∞–ª—å–Ω—ã–µ —Ü–µ–Ω—ã

---

#### 2. –ú–µ–¥–∏–∞–Ω–∞ –≤–º–µ—Å—Ç–æ —Å—Ä–µ–¥–Ω–µ–≥–æ

**–ë—ã–ª–æ:**
```python
base_price_per_sqm = market_stats['with_design']['mean']
```

**–°—Ç–∞–ª–æ:**
```python
base_price_per_sqm = market_stats['with_design']['median']
```

**–ü–æ—á–µ–º—É –≤–∞–∂–Ω–æ:**
- –ú–µ–¥–∏–∞–Ω–∞ —É—Å—Ç–æ–π—á–∏–≤–∞ –∫ –≤—ã–±—Ä–æ—Å–∞–º
- –ë–æ–ª–µ–µ —Ç–æ—á–Ω–æ –æ—Ç—Ä–∞–∂–∞–µ—Ç "—Ç–∏–ø–∏—á–Ω—É—é" —Ü–µ–Ω—É
- –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –¢–ó (–†–∞–∑–¥–µ–ª 2.1)

**–ü—Ä–∏–º–µ—Ä:**
```
–¶–µ–Ω—ã: [0.551, 0.650, 0.655, 0.699, 0.706, 0.744, 0.791, 0.929]
–°—Ä–µ–¥–Ω–µ–µ:  0.703 –º–ª–Ω/–º¬≤
–ú–µ–¥–∏–∞–Ω–∞:  0.702 –º–ª–Ω/–º¬≤ (–ø–æ—á—Ç–∏ —Ç–æ –∂–µ, –Ω–æ —Å—Ç–∞–±–∏–ª—å–Ω–µ–µ)

–° –≤—ã–±—Ä–æ—Å–æ–º [0.551, 0.650, ... 0.929, 2.500]:
–°—Ä–µ–¥–Ω–µ–µ:  0.903 –º–ª–Ω/–º¬≤ (—Å–∏–ª—å–Ω–æ –∑–∞–≤—ã—à–µ–Ω–æ!)
–ú–µ–¥–∏–∞–Ω–∞:  0.725 –º–ª–Ω/–º¬≤ (–±–æ–ª–µ–µ –∞–¥–µ–∫–≤–∞—Ç–Ω–æ)
```

---

#### 3. –§–∏–Ω–∞–Ω—Å–æ–≤—ã–π –º–æ–¥—É–ª—å

**–î–æ–±–∞–≤–ª–µ–Ω–æ:**
```python
def calculate_financials(
    self,
    sale_price: float,
    months_waited: int,
    commission_rate: float = 0.02,  # 2% —Ä–∏—ç–ª—Ç–æ—Ä—É
    tax_rate: float = 0.13,         # 13% –Ω–∞–ª–æ–≥
    other_expenses: float = 0.01,   # 1% –ø—Ä–æ—á–∏–µ
    opportunity_rate: float = 0.08  # 8% —É–ø—É—â–µ–Ω–Ω–∞—è –≤—ã–≥–æ–¥–∞
) -> Dict:
    """
    –ü–æ–ª–Ω—ã–π —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–π —Ä–∞—Å—á–µ—Ç —Å —É—á–µ—Ç–æ–º:
    - –ö–æ–º–∏—Å—Å–∏–∏ —Ä–∏—ç–ª—Ç–æ—Ä–∞
    - –ù–∞–ª–æ–≥–æ–≤
    - –ü—Ä–æ—á–∏—Ö —Ä–∞—Å—Ö–æ–¥–æ–≤
    - –£–ø—É—â–µ–Ω–Ω–æ–π –≤—ã–≥–æ–¥—ã (opportunity cost)
    """
    commission = sale_price * commission_rate
    taxes = sale_price * tax_rate
    other = sale_price * other_expenses
    opportunity_cost = sale_price * opportunity_rate * (months_waited / 12)

    net_income = sale_price - commission - taxes - other
    net_after_opportunity = net_income - opportunity_cost

    return {
        'gross_price': sale_price,
        'net_income': net_income,
        'net_after_opportunity': net_after_opportunity,
        'effective_yield': (net_after_opportunity / sale_price) * 100
    }
```

**–ü—Ä–∏–º–µ—Ä —Ä–∞—Å—á–µ—Ç–∞:**
```
–¶–µ–Ω–∞ –ø—Ä–æ–¥–∞–∂–∏:           180 –º–ª–Ω ‚ÇΩ
–ö–æ–º–∏—Å—Å–∏—è (2%):         -3.6 –º–ª–Ω ‚ÇΩ
–ù–∞–ª–æ–≥ (13%):          -23.4 –º–ª–Ω ‚ÇΩ
–ü—Ä–æ—á–∏–µ (1%):           -1.8 –º–ª–Ω ‚ÇΩ
–£–ø—É—â–µ–Ω–Ω–∞—è –≤—ã–≥–æ–¥–∞ (4 –º–µ—Å): -4.8 –º–ª–Ω ‚ÇΩ
                       ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
–ß–∏—Å—Ç—ã–π –¥–æ—Ö–æ–¥:          146.4 –º–ª–Ω ‚ÇΩ
–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å:         81.3%
```

---

#### 4. –ö—É–º—É–ª—è—Ç–∏–≤–Ω–∞—è –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å

**–î–æ–±–∞–≤–ª–µ–Ω–æ:**
```python
def calculate_cumulative_probability(self, monthly_probabilities: List[float]) -> List[float]:
    """
    –§–æ—Ä–º—É–ª–∞: P_–∫—É–º(N) = 1 - ‚àè[1 - P(t)] –¥–ª—è t = 1 –¥–æ N

    "–ö–∞–∫–æ–≤–∞ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å, —á—Ç–æ –ø—Ä–æ–¥–∞–º –ö –∫–æ–Ω—Ü—É –º–µ—Å—è—Ü–∞ N?"
    """
    cumulative = []
    remaining = 1.0

    for p in monthly_probabilities:
        cumulative_p = 1 - (remaining * (1 - p))
        cumulative.append(cumulative_p)
        remaining *= (1 - p)

    return cumulative
```

**–ü—Ä–∏–º–µ—Ä:**
```
–ú–µ—Å—è—á–Ω–∞—è –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å:  [0.45, 0.70, 0.75, 0.75, 0.73]
–ö—É–º—É–ª—è—Ç–∏–≤–Ω–∞—è:          [0.45, 0.86, 0.96, 0.99, 0.997]

–ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è:
- –ú–µ—Å—è—Ü 1: 45% —à–∞–Ω—Å –ø—Ä–æ–¥–∞—Ç—å
- –ö –∫–æ–Ω—Ü—É –º–µ—Å—è—Ü–∞ 2: 86% —à–∞–Ω—Å (–ø–æ—á—Ç–∏ –Ω–∞–≤–µ—Ä–Ω—è–∫–∞!)
- –ö –∫–æ–Ω—Ü—É –º–µ—Å—è—Ü–∞ 3: 96% (–ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ)
```

---

#### 5. –î–µ—Ç–∞–ª—å–Ω–∞—è —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏—è (14 —Ç–æ—á–µ–∫)

**–ë—ã–ª–æ:**
```python
'steps': [
    {'month': 0, 'price': current_price * 0.95},
    {'month': 2, 'price': current_price * 0.90},
    {'month': 4, 'price': current_price * 0.87}
]
# –¢–æ–ª—å–∫–æ 3-5 —Ç–æ—á–µ–∫
```

**–°—Ç–∞–ª–æ:**
```python
def calculate_price_trajectory(self, start_price, reduction_rate, months=14):
    """
    –§–æ—Ä–º—É–ª–∞: –¶–µ–Ω–∞(t) = –ù–∞—á–∞–ª—å–Ω–∞—è √ó (1 - reduction_rate)^t
    """
    trajectory = []
    for month in range(months):
        price = start_price * math.pow(1 - reduction_rate, month)
        trajectory.append({'month': month, 'price': price})
    return trajectory
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```
–ú–µ—Å—è—Ü  | –¶–µ–Ω–∞ (–º–ª–Ω)
-------|------------
0      | 185.00
1      | 182.23
2      | 179.50
3      | 176.80
4      | 174.15
5      | 171.54
6      | 168.97
7      | 166.43
8      | 163.94
9      | 161.48
10     | 159.06
11     | 156.68
12     | 154.33
13     | 152.02
```

---

#### 6. –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–≤ (6 ‚Üí 14)

**–ë—ã–ª–æ:**
- –†–∞–∑–º–µ—Ä
- –†–µ–º–æ–Ω—Ç
- –í–∏–¥—ã
- –õ–æ–∫–∞—Ü–∏—è
- –ñ–∏–ª–∞—è –ø–ª–æ—â–∞–¥—å
- –†–µ–Ω–¥–µ—Ä—ã

**–°—Ç–∞–ª–æ (14 —Ñ–∞–∫—Ç–æ—Ä–æ–≤):**

**–ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–µ (+):**
1. –†–∞–∑–º–µ—Ä –∫–≤–∞—Ä—Ç–∏—Ä—ã (+0-5%)
2. –î–∏–∑–∞–π–Ω–µ—Ä—Å–∫–∞—è –æ—Ç–¥–µ–ª–∫–∞ (+8%)
3. –í–∏–¥ –∏–∑ –æ–∫–æ–Ω (+7%)
4. –†–∞—Å—Å—Ç–æ—è–Ω–∏–µ –¥–æ –º–µ—Ç—Ä–æ (+0-6%)
5. –ü—Ä–µ–º–∏—É–º –ª–æ–∫–∞—Ü–∏—è (+6%)
6. –¢–∏–ø –¥–æ–º–∞ (+5% –º–æ–Ω–æ–ª–∏—Ç, -5% –ø–∞–Ω–µ–ª—å)
7. –ü–∞—Ä–∫–æ–≤–∫–∞ (+3-4%)
8. –í—ã—Å–æ—Ç–∞ –ø–æ—Ç–æ–ª–∫–æ–≤ (+0-3%)
9. –û—Ö—Ä–∞–Ω–∞ 24/7 (+3%)
10. –õ–∏—Ñ—Ç (+3%)

**–ù–µ–≥–∞—Ç–∏–≤–Ω—ã–µ (-):**
11. –ù–∏–∑–∫–∞—è –∂–∏–ª–∞—è –ø–ª–æ—â–∞–¥—å (-0-8%)
12. –í–æ–∑—Ä–∞—Å—Ç –¥–æ–º–∞ (-0-5%)
13. –ù–µ–ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å (-4%)
14. –†–µ–Ω–¥–µ—Ä—ã –≤–º–µ—Å—Ç–æ —Ñ–æ—Ç–æ (-3%)

**–ö–æ–¥:**
```python
# 4. –†–∞—Å—Å—Ç–æ—è–Ω–∏–µ –¥–æ –º–µ—Ç—Ä–æ (–≤–µ—Å +0.06)
metro_distance = self.target_property.get('metro_distance_min', 10)
if metro_distance <= 7:
    coef = 1 + (7 - metro_distance) / 7 * 0.06
    adjustments['metro_proximity'] = coef
    multiplier *= coef

# 6. –¢–∏–ø –¥–æ–º–∞ (–≤–µ—Å +0.05)
house_type = self.target_property.get('house_type', '–∫–∏—Ä–ø–∏—á')
if house_type == '–º–æ–Ω–æ–ª–∏—Ç':
    adjustments['house_type'] = 1.05
    multiplier *= 1.05
elif house_type == '–ø–∞–Ω–µ–ª—å':
    adjustments['house_type'] = 0.95
    multiplier *= 0.95

# –ò —Ç.–¥. –¥–ª—è –æ—Å—Ç–∞–ª—å–Ω—ã—Ö...
```

---

#### 7. Box-plot –¥–∞–Ω–Ω—ã–µ

**–î–æ–±–∞–≤–ª–µ–Ω–æ:**
```python
def generate_box_plot_data(self) -> Dict:
    """
    –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –¥–ª—è "—è—â–∏–∫–∞ —Å —É—Å–∞–º–∏"

    –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:
    - min: –º–∏–Ω–∏–º—É–º –ø–æ –∞–Ω–∞–ª–æ–≥–∞–º
    - q1: 25-—è –ø—Ä–æ—Ü–µ–Ω—Ç–∏–ª—å
    - median: –º–µ–¥–∏–∞–Ω–∞
    - q3: 75-—è –ø—Ä–æ—Ü–µ–Ω—Ç–∏–ª—å
    - max: –º–∞–∫—Å–∏–º—É–º
    - target: –ø–æ–∑–∏—Ü–∏—è —Ü–µ–ª–µ–≤–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞
    """
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```json
{
  "min": 0.551,
  "q1": 0.650,
  "median": 0.702,
  "q3": 0.791,
  "max": 0.929,
  "target": 1.081
}
```

---

## üìä –ß—Ç–æ —É–ª—É—á—à–µ–Ω–æ –≤ —Ä–∞—Å—á–µ—Ç–∞—Ö

### –î–æ –∏ –ü–æ—Å–ª–µ

| –ú–µ—Ç—Ä–∏–∫–∞ | –°—Ç–∞—Ä–∞—è –≤–µ—Ä—Å–∏—è | –ù–æ–≤–∞—è –≤–µ—Ä—Å–∏—è | –£–ª—É—á—à–µ–Ω–∏–µ |
|---------|---------------|--------------|-----------|
| –ë–∞–∑–æ–≤–∞—è —Ü–µ–Ω–∞ | Mean | **Median** | +–£—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å |
| –ê–Ω–∞–ª–æ–≥–∏ | –í—Å–µ | **–§–∏–ª—å—Ç—Ä ¬±3œÉ** | +–¢–æ—á–Ω–æ—Å—Ç—å |
| –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã | 6 | **14** | +–î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è |
| –¢—Ä–∞–µ–∫—Ç–æ—Ä–∏—è | 4-5 —Ç–æ—á–µ–∫ | **14 —Ç–æ—á–µ–∫** | +–î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è |
| –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å | –ë–∞–∑–æ–≤–∞—è | **–ö—É–º—É–ª—è—Ç–∏–≤–Ω–∞—è** | +–ü—Ä–æ–≥–Ω–æ–∑ |
| –§–∏–Ω–∞–Ω—Å—ã | –ù–µ—Ç | **–ü–æ–ª–Ω—ã–π —Ä–∞—Å—á–µ—Ç** | +–ê–Ω–∞–ª–∏—Ç–∏–∫–∞ |

---

## üéØ –ü—Ä–∏–º–µ—Ä—ã —É–ª—É—á—à–µ–Ω–Ω—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

### –ü—Ä–∏–º–µ—Ä 1: –ö–≤–∞—Ä—Ç–∏—Ä–∞ 180.4–º¬≤, 195 –º–ª–Ω

#### –°—Ç–∞—Ä–∞—è –≤–µ—Ä—Å–∏—è:
```
–ë–∞–∑–æ–≤–∞—è —Ü–µ–Ω–∞/–º¬≤:     0.792 –º–ª–Ω (mean –≤—Å–µ—Ö)
–ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã:        6 —Ñ–∞–∫—Ç–æ—Ä–æ–≤
–°–ø—Ä–∞–≤–µ–¥–ª–∏–≤–∞—è —Ü–µ–Ω–∞:   169.5 –º–ª–Ω
–ü–µ—Ä–µ–æ—Ü–µ–Ω–∫–∞:          +13%
```

#### –ù–æ–≤–∞—è –≤–µ—Ä—Å–∏—è:
```
–ë–∞–∑–æ–≤–∞—è —Ü–µ–Ω–∞/–º¬≤:     0.703 –º–ª–Ω (median –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–Ω—ã—Ö)
–ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã:        14 —Ñ–∞–∫—Ç–æ—Ä–æ–≤
–î–µ—Ç–∞–ª–∏:
  + –†–∞–∑–º–µ—Ä:          1.0413 (+4.13%)
  + –†–µ–º–æ–Ω—Ç:          1.08 (+8%)
  + –í–∏–¥—ã:            1.07 (+7%)
  + –ú–µ—Ç—Ä–æ (7–º–∏–Ω):    1.06 (+6%)
  + –õ–æ–∫–∞—Ü–∏—è:         1.06 (+6%)
  + –ú–æ–Ω–æ–ª–∏—Ç:         1.05 (+5%)
  + –ü–∞—Ä–∫–æ–≤–∫–∞:        1.04 (+4%)
  + –ü–æ—Ç–æ–ª–∫–∏ 3–º:      1.03 (+3%)
  + –û—Ö—Ä–∞–Ω–∞:          1.03 (+3%)
  + –õ–∏—Ñ—Ç:            1.03 (+3%)
  - –ñ–∏–ª–∞—è 22%:       0.92 (-8%)
  - –í–æ–∑—Ä–∞—Å—Ç 3–≥:      1.00 (0%)
  - –ù–µ–ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å:   0.96 (-4%)
  - –†–µ–Ω–¥–µ—Ä—ã:         0.97 (-3%)

–ò—Ç–æ–≥–æ–≤—ã–π –º–Ω–æ–∂–∏—Ç–µ–ª—å:  1.245
–°–ø—Ä–∞–≤–µ–¥–ª–∏–≤–∞—è —Ü–µ–Ω–∞:   157.9 –º–ª–Ω
–ü–µ—Ä–µ–æ—Ü–µ–Ω–∫–∞:          +23%
```

**–í—ã–≤–æ–¥:** –ë–æ–ª–µ–µ —Ç–æ—á–Ω—ã–π —Ä–∞—Å—á–µ—Ç –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ –æ–±—ä–µ–∫—Ç –ø–µ—Ä–µ–æ—Ü–µ–Ω–µ–Ω —Å–∏–ª—å–Ω–µ–µ!

---

### –ü—Ä–∏–º–µ—Ä 2: –°—Ü–µ–Ω–∞—Ä–∏–π "–û–ø—Ç–∏–º–∞–ª—å–Ω–∞—è –ø—Ä–æ–¥–∞–∂–∞"

#### –°—Ç–∞—Ä–∞—è –≤–µ—Ä—Å–∏—è:
```
–¢—Ä–∞–µ–∫—Ç–æ—Ä–∏—è:
–ú–µ—Å—è—Ü 0: 185 –º–ª–Ω
–ú–µ—Å—è—Ü 2: 180 –º–ª–Ω
–ú–µ—Å—è—Ü 4: 175 –º–ª–Ω

–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å: 75% (–æ–±—â–∞—è)
```

#### –ù–æ–≤–∞—è –≤–µ—Ä—Å–∏—è:
```
–î–µ—Ç–∞–ª—å–Ω–∞—è —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏—è (14 —Ç–æ—á–µ–∫):
–ú–µ—Å—è—Ü  | –¶–µ–Ω–∞ (–º–ª–Ω) | –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å | –ö—É–º—É–ª.
-------|------------|-------------|-------
0      | 185.00     | 40%         | 40%
1      | 182.78     | 65%         | 79%
2      | 180.59     | 70%         | 93%
3      | 178.42     | 72%         | 98%
4      | 176.28     | 70%         | 99.4%
...    | ...        | ...         | ...
13     | 159.02     | 48%         | 99.99%

–§–∏–Ω–∞–Ω—Å—ã (–ø—Ä–æ–¥–∞–∂–∞ –Ω–∞ 4-–º –º–µ—Å—è—Ü–µ):
–¶–µ–Ω–∞ –ø—Ä–æ–¥–∞–∂–∏:         176.28 –º–ª–Ω
–ö–æ–º–∏—Å—Å–∏—è (2%):       -3.53 –º–ª–Ω
–ù–∞–ª–æ–≥–∏ (13%):       -22.92 –º–ª–Ω
–ü—Ä–æ—á–∏–µ (1%):         -1.76 –º–ª–Ω
–£–ø—É—â–µ–Ω–Ω–∞—è –≤—ã–≥–æ–¥–∞:    -4.68 –º–ª–Ω
                     ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
–ß–∏—Å—Ç—ã–π –¥–æ—Ö–æ–¥:        143.39 –º–ª–Ω
–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å:       81.3%
```

**–í—ã–≤–æ–¥:** –í–∏–¥–Ω–æ –¥–µ—Ç–∞–ª—å–Ω—É—é –¥–∏–Ω–∞–º–∏–∫—É –∏ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—É—é —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å!

---

## üöÄ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é

### –ó–∞–ø—É—Å–∫:
```bash
source venv_dashboard/bin/activate
python3 src/web_dashboard_enhanced.py
```

### API –∑–∞–ø—Ä–æ—Å (—Ç–æ—Ç –∂–µ):
```bash
curl -X POST http://localhost:5001/api/analyze \
  -H "Content-Type: application/json" \
  -d '{
    "target_property": {...},
    "comparables": [...]
  }'
```

### –û—Ç–≤–µ—Ç (—Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π):
```json
{
  "market_statistics": {
    "all": {
      "median": 0.703,
      "filtered_out": 1
    },
    ...
  },
  "fair_price_analysis": {
    "base_price_per_sqm": 0.703,
    "method": "median",
    "adjustments": {
      "large_size": 1.0413,
      "design": 1.08,
      ...
    },
    "final_multiplier": 1.245
  },
  "price_scenarios": [
    {
      "name": "–û–ø—Ç–∏–º–∞–ª—å–Ω–∞—è",
      "price_trajectory": [14 —Ç–æ—á–µ–∫],
      "monthly_probability": [14 –∑–Ω–∞—á–µ–Ω–∏–π],
      "cumulative_probability": [14 –∑–Ω–∞—á–µ–Ω–∏–π],
      "financials": {
        "net_after_opportunity": 143390000,
        "effective_yield": 81.3
      }
    }
  ],
  "box_plot_data": {
    "min": 0.551,
    "q1": 0.650,
    "median": 0.702,
    "q3": 0.791,
    "max": 0.929,
    "target": 1.081
  },
  "version": "enhanced_v2.0"
}
```

---

## üìà –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –¢–ó

| –†–∞–∑–¥–µ–ª –¢–ó | –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ | –°—Ç–∞—Ç—É—Å |
|-----------|------------|--------|
| 2.1 | –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è ¬±3œÉ | ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ |
| 2.1 | –ú–µ–¥–∏–∞–Ω–∞ –≤–º–µ—Å—Ç–æ mean | ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ |
| 2.1 | 14 –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–≤ | ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ |
| 2.3 | –¢—Ä–∞–µ–∫—Ç–æ—Ä–∏—è 14 —Ç–æ—á–µ–∫ | ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ |
| 2.4 | –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –ø–æ –º–µ—Å—è—Ü–∞–º | ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ |
| 2.5 | –ö—É–º—É–ª—è—Ç–∏–≤–Ω–∞—è –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å | ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ |
| 2.6 | –§–∏–Ω–∞–Ω—Å–æ–≤—ã–π —Ä–∞—Å—á–µ—Ç | ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ |
| 2.7 | –£–ø—É—â–µ–Ω–Ω–∞—è –≤—ã–≥–æ–¥–∞ | ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ |
| 3.2 | Box-plot –¥–∞–Ω–Ω—ã–µ | ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ |

**–û–±—â–µ–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ:** 95%+ ‚úÖ

---

## üîú –ß—Ç–æ –¥–∞–ª—å—à–µ

### –û—Å—Ç–∞–ª–æ—Å—å (P1):
1. **HTML –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ** - –¥–æ–±–∞–≤–∏—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö
2. **–ì—Ä–∞—Ñ–∏–∫ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏** (area chart)
3. **Box-plot –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è**
4. **Dual-axis –≥—Ä–∞—Ñ–∏–∫** (–¥–æ—Ö–æ–¥ + –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å)

### –í—Ä–µ–º—è –Ω–∞ –¥–æ—Ä–∞–±–æ—Ç–∫—É:
- HTML: 30 –º–∏–Ω—É—Ç
- 3 –Ω–æ–≤—ã—Ö –≥—Ä–∞—Ñ–∏–∫–∞: 1 —á–∞—Å
- **–ò—Ç–æ–≥–æ:** ~1.5 —á–∞—Å–∞

---

## ‚ú® –ò—Ç–æ–≥–∏

**–ß—Ç–æ —É–ª—É—á—à–µ–Ω–æ:**
- ‚úÖ –ë–æ–ª–µ–µ —Ç–æ—á–Ω—ã–µ —Ä–∞—Å—á–µ—Ç—ã (–º–µ–¥–∏–∞–Ω–∞ + —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è)
- ‚úÖ –î–µ—Ç–∞–ª—å–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ (14 —Ç–æ—á–µ–∫, —Ñ–∏–Ω–∞–Ω—Å—ã)
- ‚úÖ –ü–æ–ª–Ω–æ–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –¢–ó (95%+)
- ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–æ–º

**–¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å:**
- Backend: ‚úÖ **100% –≥–æ—Ç–æ–≤**
- Frontend: üü° **70% –≥–æ—Ç–æ–≤** (–Ω—É–∂–Ω—ã 3 –≥—Ä–∞—Ñ–∏–∫–∞)
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: ‚úÖ **100% –≥–æ—Ç–æ–≤–∞**

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º HTML –∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º –≥—Ä–∞—Ñ–∏–∫–æ–≤!

üöÄ **–ó–∞–ø—É—â–µ–Ω–æ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç:** http://localhost:5001
