"""
–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —ç–∫—Å–ø–æ—Ä—Ç–∞ –≤ Markdown –Ω–∞ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö
"""

from src.markdown_exporter import save_results_as_markdown


def main():
    """–°–æ–∑–¥–∞–µ–º —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –∏ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ–º –≤ Markdown"""

    # –°–æ–∑–¥–∞–µ–º —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ (–∫–∞–∫ –±—É–¥—Ç–æ –º—ã –∏—Ö —Å–ø–∞—Ä—Å–∏–ª–∏)
    test_results = [
        {
            'url': 'https://www.cian.ru/sale/flat/319270312/',
            'title': '3-–∫–æ–º–Ω. –∫–≤–∞—Ä—Ç–∏—Ä–∞, 82 –º¬≤, 5/9 —ç—Ç.',
            'price': '15 –º–ª–Ω ‚ÇΩ',
            'address': '–ú–æ—Å–∫–≤–∞, –°—É—â—ë–≤—Å–∫–∏–π –í–∞–ª —É–ª–∏—Ü–∞, 5—Å1',
            'metro': ['–¶–≤–µ—Ç–Ω–æ–π –±—É–ª—å–≤–∞—Ä (5 –º–∏–Ω –ø–µ—à–∫–æ–º)', '–ú–µ–Ω–¥–µ–ª–µ–µ–≤—Å–∫–∞—è (8 –º–∏–Ω –ø–µ—à–∫–æ–º)'],
            'area': '82 –º¬≤',
            'floor': '5 –∏–∑ 9',
            'rooms': '3',
            'description': '''–ü—Ä–æ–¥–∞–µ—Ç—Å—è –æ—Ç–ª–∏—á–Ω–∞—è 3-–∫–æ–º–Ω–∞—Ç–Ω–∞—è –∫–≤–∞—Ä—Ç–∏—Ä–∞ –≤ —Ü–µ–Ω—Ç—Ä–µ –ú–æ—Å–∫–≤—ã.

–ö–≤–∞—Ä—Ç–∏—Ä–∞ –≤ —Ö–æ—Ä–æ—à–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏, —Å–≤–µ–∂–∏–π —Ä–µ–º–æ–Ω—Ç. –†–∞–∑–≤–∏—Ç–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞, —Ä—è–¥–æ–º –º–µ—Ç—Ä–æ, –ø–∞—Ä–∫–∏, —à–∫–æ–ª—ã, –º–∞–≥–∞–∑–∏–Ω—ã.

–ö–≤–∞—Ä—Ç–∏—Ä–∞ —Å–≤–æ–±–æ–¥–Ω–∞, –≤–æ–∑–º–æ–∂–µ–Ω –ø–æ–∫–∞–∑ –≤ –ª—é–±–æ–µ —É–¥–æ–±–Ω–æ–µ –≤—Ä–µ–º—è. –ü—Ä—è–º–∞—è –ø—Ä–æ–¥–∞–∂–∞, –æ–¥–∏–Ω —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫.''',
            'characteristics': {
                '–¢–∏–ø –¥–æ–º–∞': '–ü–∞–Ω–µ–ª—å–Ω—ã–π',
                '–ì–æ–¥ –ø–æ—Å—Ç—Ä–æ–π–∫–∏': '1985',
                '–í—ã—Å–æ—Ç–∞ –ø–æ—Ç–æ–ª–∫–æ–≤': '2.7 –º',
                '–°–∞–Ω—É–∑–µ–ª': '–†–∞–∑–¥–µ–ª—å–Ω—ã–π',
                '–ë–∞–ª–∫–æ–Ω': '–ë–∞–ª–∫–æ–Ω',
                '–†–µ–º–æ–Ω—Ç': '–ï–≤—Ä–æ—Ä–µ–º–æ–Ω—Ç',
                '–í–∏–¥ –∏–∑ –æ–∫–æ–Ω': '–í–æ –¥–≤–æ—Ä',
                '–õ–∏—Ñ—Ç': '–ü–∞—Å—Å–∞–∂–∏—Ä—Å–∫–∏–π',
                '–ü–∞—Ä–∫–æ–≤–∫–∞': '–ù–∞–∑–µ–º–Ω–∞—è',
            },
            'similar_listings': [
                {
                    'title': '3-–∫–æ–º–Ω. –∫–≤–∞—Ä—Ç–∏—Ä–∞, 78 –º¬≤, 4/9 —ç—Ç.',
                    'price': '14.5 –º–ª–Ω ‚ÇΩ',
                    'url': 'https://www.cian.ru/sale/flat/123456789/'
                },
                {
                    'title': '3-–∫–æ–º–Ω. –∫–≤–∞—Ä—Ç–∏—Ä–∞, 85 –º¬≤, 6/9 —ç—Ç.',
                    'price': '15.5 –º–ª–Ω ‚ÇΩ',
                    'url': 'https://www.cian.ru/sale/flat/987654321/'
                },
            ],
            'images': [
                'https://cdn-p.cian.site/images/1/example1.jpg',
                'https://cdn-p.cian.site/images/1/example2.jpg',
                'https://cdn-p.cian.site/images/1/example3.jpg',
                'https://cdn-p.cian.site/images/1/example4.jpg',
                'https://cdn-p.cian.site/images/1/example5.jpg',
            ],
            'coordinates': {
                'lat': 55.777594,
                'lon': 37.618916
            },
            'agent_name': '–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤',
            'phone': '+7 (999) 123-45-67',
            'published_date': '15 –¥–µ–∫–∞–±—Ä—è 2024'
        },
        {
            'url': 'https://www.cian.ru/sale/flat/319230363/',
            'title': '2-–∫–æ–º–Ω. –∫–≤–∞—Ä—Ç–∏—Ä–∞, 65 –º¬≤, 3/12 —ç—Ç.',
            'price': '12 –º–ª–Ω ‚ÇΩ',
            'address': '–ú–æ—Å–∫–≤–∞, –ü—Ä–æ—Å–ø–µ–∫—Ç –ú–∏—Ä–∞, 100',
            'metro': ['–í–î–ù–• (10 –º–∏–Ω –ø–µ—à–∫–æ–º)'],
            'area': '65 –º¬≤',
            'floor': '3 –∏–∑ 12',
            'rooms': '2',
            'description': '''–£—é—Ç–Ω–∞—è –¥–≤—É—Ö–∫–æ–º–Ω–∞—Ç–Ω–∞—è –∫–≤–∞—Ä—Ç–∏—Ä–∞ –≤ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–º –¥–æ–º–µ.

–£–¥–æ–±–Ω–∞—è –ø–ª–∞–Ω–∏—Ä–æ–≤–∫–∞, –±–æ–ª—å—à–∞—è –∫—É—Ö–Ω—è-–≥–æ—Å—Ç–∏–Ω–∞—è. –†—è–¥–æ–º –ø–∞—Ä–∫ –í–î–ù–•, –æ—Ç–ª–∏—á–Ω–∞—è —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–∞—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å.

–ö–≤–∞—Ä—Ç–∏—Ä–∞ –≥–æ—Ç–æ–≤–∞ –∫ —Å–¥–µ–ª–∫–µ, –≤—Å–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –≤ –ø–æ—Ä—è–¥–∫–µ.''',
            'characteristics': {
                '–¢–∏–ø –¥–æ–º–∞': '–ú–æ–Ω–æ–ª–∏—Ç–Ω—ã–π',
                '–ì–æ–¥ –ø–æ—Å—Ç—Ä–æ–π–∫–∏': '2015',
                '–í—ã—Å–æ—Ç–∞ –ø–æ—Ç–æ–ª–∫–æ–≤': '3.0 –º',
                '–°–∞–Ω—É–∑–µ–ª': '–°–æ–≤–º–µ—â–µ–Ω–Ω—ã–π',
                '–ë–∞–ª–∫–æ–Ω': '–õ–æ–¥–∂–∏—è',
                '–†–µ–º–æ–Ω—Ç': '–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Ä–µ–º–æ–Ω—Ç',
                '–í–∏–¥ –∏–∑ –æ–∫–æ–Ω': '–ù–∞ —É–ª–∏—Ü—É',
                '–õ–∏—Ñ—Ç': '–ü–∞—Å—Å–∞–∂–∏—Ä—Å–∫–∏–π –∏ –≥—Ä—É–∑–æ–≤–æ–π',
                '–ü–∞—Ä–∫–æ–≤–∫–∞': '–ü–æ–¥–∑–µ–º–Ω–∞—è',
            },
            'images': [
                'https://cdn-p.cian.site/images/2/example1.jpg',
                'https://cdn-p.cian.site/images/2/example2.jpg',
                'https://cdn-p.cian.site/images/2/example3.jpg',
            ],
            'coordinates': {
                'lat': 55.825056,
                'lon': 37.633056
            },
            'published_date': '20 –¥–µ–∫–∞–±—Ä—è 2024'
        }
    ]

    print("=" * 80)
    print("üìù –î–ï–ú–û–ù–°–¢–†–ê–¶–ò–Ø –≠–ö–°–ü–û–†–¢–ê –í MARKDOWN")
    print("=" * 80)
    print(f"\nüéØ –°–æ–∑–¥–∞–µ–º Markdown –∏–∑ {len(test_results)} —Ç–µ—Å—Ç–æ–≤—ã—Ö –æ–±—ä—è–≤–ª–µ–Ω–∏–π\n")

    # –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ Markdown
    md_file = save_results_as_markdown(test_results, "demo_export.md")

    print("=" * 80)
    print("‚úÖ –≠–ö–°–ü–û–†–¢ –ó–ê–í–ï–†–®–ï–ù!")
    print("=" * 80)
    print(f"\nüìÑ Markdown —Ñ–∞–π–ª —Å–æ–∑–¥–∞–Ω: {md_file}")
    print(f"\nüìñ –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞:")
    print(f"   open {md_file}")

    print("\n" + "=" * 80)
    print("üéØ –ß–¢–û –í–ö–õ–Æ–ß–ï–ù–û –í MARKDOWN:")
    print("=" * 80)
    print("  ‚úì –ó–∞–≥–æ–ª–æ–≤–æ–∫ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞")
    print("  ‚úì –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ")
    print("  ‚úì –¶–µ–Ω–∞ –∏ –æ—Å–Ω–æ–≤–Ω—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏")
    print("  ‚úì –ê–¥—Ä–µ—Å –∏ –º–µ—Ç—Ä–æ")
    print("  ‚úì –ü–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ")
    print("  ‚úì –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏")
    print("  ‚úì –ü–æ—Ö–æ–∂–∏–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è")
    print("  ‚úì –°—Å—ã–ª–∫–∏ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (–≤ –≤—ã–ø–∞–¥–∞—é—â–µ–º —Å–ø–∏—Å–∫–µ)")
    print("  ‚úì –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –∏ —Å—Å—ã–ª–∫–∞ –Ω–∞ –Ø–Ω–¥–µ–∫—Å.–ö–∞—Ä—Ç—ã")
    print("  ‚úì –ö–æ–Ω—Ç–∞–∫—Ç—ã –∞–≥–µ–Ω—Ç–∞")
    print("  ‚úì –î–∞—Ç–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏")
    print("\n" + "=" * 80)
    print("\nüí° –°–û–í–ï–¢: –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª –≤ VS Code –∏ –Ω–∞–∂–º–∏—Ç–µ Cmd+Shift+V")
    print("   –¥–ª—è –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–≥–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Å –∫—Ä–∞—Å–∏–≤—ã–º —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º!")
    print("\n" + "=" * 80)


if __name__ == "__main__":
    main()
