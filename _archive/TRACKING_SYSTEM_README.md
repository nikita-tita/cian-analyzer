# üìä –°–∏—Å—Ç–µ–º–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –∏ —Ç—Ä–µ–∫–∏–Ω–≥–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ–±—ä–µ–∫—Ç–æ–≤

–°–∏—Å—Ç–µ–º–∞ –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∫–∞–∂–¥–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏ —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é —ç–∫—Å–ø–æ—Ä—Ç–∞ –≤ Markdown.

---

## üéØ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### ‚úÖ –ß—Ç–æ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç—Å—è

1. **–ü–∞—Ä—Å–∏–Ω–≥**
   - –ù–∞—á–∞–ª–æ/–∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –ø–∞—Ä—Å–∏–Ω–≥–∞
   - –ò–∑–≤–ª–µ—á—ë–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
   - –û—à–∏–±–∫–∏ –ø–∞—Ä—Å–∏–Ω–≥–∞

2. **–ê–Ω–∞–ª–∏–∑**
   - –ü–æ–∏—Å–∫ –∞–Ω–∞–ª–æ–≥–æ–≤
   - –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –≤—ã–±—Ä–æ—Å–æ–≤
   - –†—ã–Ω–æ—á–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

3. **–†–∞—Å—á—ë—Ç—ã**
   - –ü—Ä–∏–º–µ–Ω—ë–Ω–Ω—ã–µ –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∏ (–∫–∞–∂–¥–∞—è –æ—Ç–¥–µ–ª—å–Ω–æ)
   - –†–∞—Å—á—ë—Ç —Å–ø—Ä–∞–≤–µ–¥–ª–∏–≤–æ–π —Ü–µ–Ω—ã
   - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ –ø—Ä–æ–¥–∞–∂–∏

4. **–ú–µ—Ç—Ä–∏–∫–∏**
   - –í—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏
   - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–Ω–∞–ª–æ–≥–æ–≤
   - –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### ‚úÖ –§–æ—Ä–º–∞—Ç—ã —ç–∫—Å–ø–æ—Ä—Ç–∞

- **Markdown** - –∫—Ä–∞—Å–∏–≤—ã–µ –æ—Ç—á—ë—Ç—ã —Å —ç–º–æ–¥–∑–∏ –∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º
- **JSON** - –¥–ª—è –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —ç–∫—Å–ø–æ—Ä—Ç–∞ –æ–¥–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞ –∏–ª–∏ –≤—Å–µ—Ö —Å—Ä–∞–∑—É
- –ö—Ä–∞—Ç–∫–∞—è —Å–≤–æ–¥–∫–∞ –ø–æ –≤—Å–µ–º –æ–±—ä–µ–∫—Ç–∞–º

---

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

–°–∏—Å—Ç–µ–º–∞ —É–∂–µ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–∞ –≤ –ø—Ä–æ–µ–∫—Ç. –ù–∏–∫–∞–∫–æ–π –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è.

### –§–∞–π–ª—ã —Å–∏—Å—Ç–µ–º—ã

```
src/analytics/
‚îú‚îÄ‚îÄ property_tracker.py      # –û—Å–Ω–æ–≤–Ω–æ–π —Ç—Ä–µ–∫–µ—Ä
‚îú‚îÄ‚îÄ markdown_exporter.py     # –≠–∫—Å–ø–æ—Ä—Ç –≤ Markdown
‚îî‚îÄ‚îÄ analyzer.py              # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ –∞–Ω–∞–ª–∏—Ç–∏–∫—É

src/
‚îî‚îÄ‚îÄ export_logs.py           # CLI –¥–ª—è —ç–∫—Å–ø–æ—Ä—Ç–∞ –ª–æ–≥–æ–≤
```

---

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### 1. –ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å analyzer

```python
from src.analytics.analyzer import RealEstateAnalyzer
from src.analytics.property_tracker import get_tracker
from src.models.property import AnalysisRequest

# –°–æ–∑–¥–∞—ë–º analyzer —Å –≤–∫–ª—é—á–µ–Ω–Ω—ã–º —Ç—Ä–µ–∫–∏–Ω–≥–æ–º
analyzer = RealEstateAnalyzer(
    property_id="cian_123456",  # ID –æ–±—ä–µ–∫—Ç–∞
    enable_tracking=True         # –í–∫–ª—é—á–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
)

# –í—ã–ø–æ–ª–Ω—è–µ–º –∞–Ω–∞–ª–∏–∑ (–≤—Å–µ —Å–æ–±—ã—Ç–∏—è –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
result = analyzer.analyze(request)

# –ü–æ–ª—É—á–∞–µ–º –ª–æ–≥ –æ–±—ä–µ–∫—Ç–∞
tracker = get_tracker()
log = tracker.get_log("cian_123456")

print(f"–û–±—Ä–∞–±–æ—Ç–∞–Ω–æ —Å–æ–±—ã—Ç–∏–π: {len(log.events)}")
print(f"–°—Ç–∞—Ç—É—Å: {log.status}")
```

### 2. –≠–∫—Å–ø–æ—Ä—Ç –ª–æ–≥–æ–≤ –≤ Markdown —á–µ—Ä–µ–∑ CLI

```bash
# –≠–∫—Å–ø–æ—Ä—Ç –≤—Å–µ—Ö –æ–±—ä–µ–∫—Ç–æ–≤
python3 src/export_logs.py -o reports/all_properties.md

# –¢–æ–ª—å–∫–æ –∫—Ä–∞—Ç–∫–∞—è —Å–≤–æ–¥–∫–∞
python3 src/export_logs.py -o reports/summary.md --summary

# –≠–∫—Å–ø–æ—Ä—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞
python3 src/export_logs.py --property-id cian_123456 -o reports/property_123456.md
```

### 3. –ü—Ä–æ–≥—Ä–∞–º–º–Ω—ã–π —ç–∫—Å–ø–æ—Ä—Ç

```python
from src.analytics.property_tracker import get_tracker
from src.analytics.markdown_exporter import MarkdownExporter

tracker = get_tracker()
exporter = MarkdownExporter()

# –≠–∫—Å–ø–æ—Ä—Ç –æ–¥–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞
log = tracker.get_log("cian_123456")
markdown = exporter.export_single_property(log)

with open("property_report.md", "w", encoding="utf-8") as f:
    f.write(markdown)

# –≠–∫—Å–ø–æ—Ä—Ç –≤—Å–µ—Ö –æ–±—ä–µ–∫—Ç–æ–≤
logs = tracker.get_all_logs()
markdown = exporter.export_multiple_properties(logs)

with open("all_properties_report.md", "w", encoding="utf-8") as f:
    f.write(markdown)

# –ö—Ä–∞—Ç–∫–∞—è —Å–≤–æ–¥–∫–∞
summary_md = exporter.export_tracker_summary(tracker)

with open("summary.md", "w", encoding="utf-8") as f:
    f.write(summary_md)
```

### 4. –†—É—á–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π

```python
from src.analytics.property_tracker import get_tracker, EventType

tracker = get_tracker()

# –ù–∞—á–∞—Ç—å —Ç—Ä–µ–∫–∏–Ω–≥ –æ–±—ä–µ–∫—Ç–∞
log = tracker.start_tracking(
    property_id="custom_001",
    url="https://www.cian.ru/sale/flat/123456/"
)

# –î–æ–±–∞–≤–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± –æ–±—ä–µ–∫—Ç–µ
log.property_info = {
    'price': 185_000_000,
    'total_area': 143,
    'rooms': 3,
    'floor': 10
}

# –î–æ–±–∞–≤–∏—Ç—å —Å–æ–±—ã—Ç–∏–µ
log.add_event(
    EventType.PARSING_STARTED,
    "–ù–∞—á–∞—Ç –ø–∞—Ä—Å–∏–Ω–≥ —Å—Ç—Ä–∞–Ω–∏—Ü—ã",
    {'url': 'https://...', 'method': 'playwright'}
)

# –î–æ–±–∞–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–∞—Ä—Å–∏–Ω–≥–∞
log.parsing_data = {
    'source': 'cian',
    'extracted_fields': ['price', 'area', 'rooms'],
    'success': True
}

# –ó–∞–≤–µ—Ä—à–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É
tracker.complete_property("custom_001", "completed")
```

---

## üìù –°—Ç—Ä—É–∫—Ç—É—Ä–∞ Markdown –æ—Ç—á—ë—Ç–∞

### –û—Ç—á—ë—Ç –ø–æ –æ–¥–Ω–æ–º—É –æ–±—ä–µ–∫—Ç—É —Å–æ–¥–µ—Ä–∂–∏—Ç:

1. **–ó–∞–≥–æ–ª–æ–≤–æ–∫ –∏ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ**
   - ID, URL, –≤—Ä–µ–º—è –Ω–∞—á–∞–ª–∞/–∑–∞–≤–µ—Ä—à–µ–Ω–∏—è, —Å—Ç–∞—Ç—É—Å

2. **–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –æ–±—ä–µ–∫—Ç–µ**
   - –¶–µ–Ω–∞, –ø–ª–æ—â–∞–¥—å, –∫–æ–º–Ω–∞—Ç—ã, —ç—Ç–∞–∂, –∞–¥—Ä–µ—Å

3. **–í—Ä–µ–º–µ–Ω–Ω–∞—è —à–∫–∞–ª–∞ (Timeline)**
   - –í—Å–µ —Å–æ–±—ã—Ç–∏—è —Å –≤—Ä–µ–º–µ–Ω–µ–º –∏ –¥–µ—Ç–∞–ª—è–º–∏
   - JSON —Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π

4. **–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–∞—Ä—Å–∏–Ω–≥–∞**
   - –ò–∑–≤–ª–µ—á—ë–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ JSON

5. **–ù–∞–π–¥–µ–Ω–Ω—ã–µ –∞–Ω–∞–ª–æ–≥–∏**
   - –¢–∞–±–ª–∏—Ü–∞ —Å —Ü–µ–Ω–∞–º–∏ –∏ –ø–ª–æ—â–∞–¥—è–º–∏

6. **–†—ã–Ω–æ—á–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞**
   - –ú–µ–¥–∏–∞–Ω–∞, —Å—Ä–µ–¥–Ω–µ–µ, –º–∏–Ω/–º–∞–∫—Å

7. **–ü—Ä–∏–º–µ–Ω—ë–Ω–Ω—ã–µ –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∏**
   - –¢–∞–±–ª–∏—Ü–∞ —Å –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–∞–º–∏ –∏ –æ–ø–∏—Å–∞–Ω–∏—è–º–∏

8. **–°–ø—Ä–∞–≤–µ–¥–ª–∏–≤–∞—è —Ü–µ–Ω–∞**
   - –ë–∞–∑–æ–≤–∞—è —Ü–µ–Ω–∞, multiplier, –∏—Ç–æ–≥–æ–≤–∞—è —Ü–µ–Ω–∞
   - –°—Ç–∞—Ç—É—Å: –ø–µ—Ä–µ–æ—Ü–µ–Ω–µ–Ω/–Ω–µ–¥–æ–æ—Ü–µ–Ω–µ–Ω/—Å–ø—Ä–∞–≤–µ–¥–ª–∏–≤–∞—è

9. **–°—Ü–µ–Ω–∞—Ä–∏–∏ –ø—Ä–æ–¥–∞–∂–∏**
   - –î–ª—è –∫–∞–∂–¥–æ–≥–æ —Å—Ü–µ–Ω–∞—Ä–∏—è: —Å—Ç–∞—Ä—Ç–æ–≤–∞—è —Ü–µ–Ω–∞, —Å—Ä–æ–∫, —á–∏—Å—Ç–∞—è –ø—Ä–∏–±—ã–ª—å

10. **–ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏**
    - –í—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–ø–µ—Ä–∞—Ü–∏–π

---

## üîß –¢–∏–ø—ã —Å–æ–±—ã—Ç–∏–π (EventType)

### –ü–∞—Ä—Å–∏–Ω–≥
- `PARSING_STARTED` üåê - –ù–∞—á–∞—Ç –ø–∞—Ä—Å–∏–Ω–≥
- `PARSING_COMPLETED` ‚úÖ - –ü–∞—Ä—Å–∏–Ω–≥ –∑–∞–≤–µ—Ä—à—ë–Ω
- `PARSING_FAILED` ‚ùå - –û—à–∏–±–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞
- `DATA_EXTRACTED` üì• - –î–∞–Ω–Ω—ã–µ –∏–∑–≤–ª–µ—á–µ–Ω—ã

### –ê–Ω–∞–ª–∏–∑
- `ANALYSIS_STARTED` üîç - –ù–∞—á–∞—Ç –∞–Ω–∞–ª–∏–∑
- `ANALYSIS_COMPLETED` ‚úÖ - –ê–Ω–∞–ª–∏–∑ –∑–∞–≤–µ—Ä—à—ë–Ω
- `ANALYSIS_FAILED` ‚ùå - –û—à–∏–±–∫–∞ –∞–Ω–∞–ª–∏–∑–∞

### –†–∞—Å—á—ë—Ç—ã
- `MARKET_STATS_CALCULATED` üìä - –†–∞—Å—Å—á–∏—Ç–∞–Ω–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- `OUTLIERS_FILTERED` üîß - –û—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω—ã –≤—ã–±—Ä–æ—Å—ã
- `FAIR_PRICE_CALCULATED` üí∞ - –†–∞—Å—Å—á–∏—Ç–∞–Ω–∞ —Å–ø—Ä–∞–≤–µ–¥–ª–∏–≤–∞—è —Ü–µ–Ω–∞
- `ADJUSTMENT_APPLIED` üîß - –ü—Ä–∏–º–µ–Ω–µ–Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞
- `SCENARIOS_GENERATED` üìà - –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å—Ü–µ–Ω–∞—Ä–∏–∏

### –ü—Ä–æ—á–µ–µ
- `WARNING` ‚ö†Ô∏è - –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ
- `ERROR` üö® - –û—à–∏–±–∫–∞

---

## üìä –ü—Ä–∏–º–µ—Ä—ã –æ—Ç—á—ë—Ç–æ–≤

### –ü—Ä–∏–º–µ—Ä –≤—Ä–µ–º–µ–Ω–Ω–æ–π —à–∫–∞–ª—ã

```markdown
## ‚è±Ô∏è –í—Ä–µ–º–µ–Ω–Ω–∞—è —à–∫–∞–ª–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏

### üåê 14:23:45 - –ù–∞—á–∞—Ç –ø–∞—Ä—Å–∏–Ω–≥ https://www.cian.ru/sale/flat/123456/

### üì• 14:23:47 - –ò–∑–≤–ª–µ—á–µ–Ω—ã –¥–∞–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç–∞

### üîç 14:23:47 - –ù–∞—á–∞—Ç –∞–Ω–∞–ª–∏–∑ –æ–±—ä–µ–∫—Ç–∞

### üìä 14:23:48 - –†–∞—Å—Å—á–∏—Ç–∞–Ω–∞ —Ä—ã–Ω–æ—á–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (8 –∞–Ω–∞–ª–æ–≥–æ–≤)

### üîß 14:23:48 - –ü—Ä–∏–º–µ–Ω–µ–Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞: –î–∏–∑–∞–π–Ω–µ—Ä—Å–∫–∞—è –æ—Ç–¥–µ–ª–∫–∞

### üîß 14:23:48 - –ü—Ä–∏–º–µ–Ω–µ–Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞: –ë–ª–∏–∑–∫–æ –∫ –º–µ—Ç—Ä–æ (5 –º–∏–Ω)

### üí∞ 14:23:48 - –°–ø—Ä–∞–≤–µ–¥–ª–∏–≤–∞—è —Ü–µ–Ω–∞: 203,500,000 ‚ÇΩ (multiplier: 1.1656)

### üìà 14:23:48 - –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–æ 4 —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ –ø—Ä–æ–¥–∞–∂–∏

### ‚úÖ 14:23:48 - –ê–Ω–∞–ª–∏–∑ –∑–∞–≤–µ—Ä—à—ë–Ω –∑–∞ 3245 –º—Å
```

### –ü—Ä–∏–º–µ—Ä —Ç–∞–±–ª–∏—Ü—ã –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–æ–∫

```markdown
## üîß –ü—Ä–∏–º–µ–Ω—ë–Ω–Ω—ã–µ –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∏

| –ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ | –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç | –û–ø–∏—Å–∞–Ω–∏–µ |
|--------------|-------------|----------|
| design | 1.0800 (+8.00%) | –î–∏–∑–∞–π–Ω–µ—Ä—Å–∫–∞—è –æ—Ç–¥–µ–ª–∫–∞ |
| metro_proximity | 1.0300 (+3.00%) | –ë–ª–∏–∑–∫–æ –∫ –º–µ—Ç—Ä–æ (5 –º–∏–Ω) |
| house_type | 1.0500 (+5.00%) | –ú–æ–Ω–æ–ª–∏—Ç–Ω—ã–π –¥–æ–º |
| high_living_area | 1.0400 (+4.00%) | –í—ã—Å–æ–∫–∏–π –ø—Ä–æ—Ü–µ–Ω—Ç –∂–∏–ª–æ–π –ø–ª–æ—â–∞–¥–∏ (65.0%) |
```

---

## üéØ –ö–µ–π—Å—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### 1. –û—Ç–ª–∞–¥–∫–∞ —Ä–∞—Å—á—ë—Ç–æ–≤

```python
# –í–∫–ª—é—á–∞–µ–º —Ç—Ä–µ–∫–∏–Ω–≥ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
analyzer = RealEstateAnalyzer(property_id="debug_001", enable_tracking=True)
result = analyzer.analyze(request)

# –°–º–æ—Ç—Ä–∏–º, –∫–∞–∫–∏–µ –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∏ –±—ã–ª–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã
tracker = get_tracker()
log = tracker.get_log("debug_001")

print("–ü—Ä–∏–º–µ–Ω—ë–Ω–Ω—ã–µ –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∏:")
for adj_name, adj_data in log.adjustments.items():
    print(f"  {adj_name}: {adj_data['value']} - {adj_data['description']}")
```

### 2. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

```python
tracker = get_tracker()

# –ü–æ—Å–ª–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ N –æ–±—ä–µ–∫—Ç–æ–≤
summary = tracker.get_summary()

print(f"–£—Å–ø–µ—à–Ω–æ—Å—Ç—å: {summary['success_rate']:.1f}%")
print(f"–û–±—Ä–∞–±–æ—Ç–∞–Ω–æ: {summary['completed']}/{summary['total']}")

# –ê–Ω–∞–ª–∏–∑ –≤—Ä–µ–º–µ–Ω–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏
for log in tracker.get_all_logs():
    if log.metrics:
        print(f"{log.property_id}: {log.metrics['calculation_time_ms']} –º—Å")
```

### 3. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á—ë—Ç–æ–≤ –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤

```python
# –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –æ–±—ä–µ–∫—Ç –∫–ª–∏–µ–Ω—Ç–∞
analyzer = RealEstateAnalyzer(
    property_id=f"client_{client_id}",
    enable_tracking=True
)
result = analyzer.analyze(request)

# –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –∫—Ä–∞—Å–∏–≤—ã–π –æ—Ç—á—ë—Ç
tracker = get_tracker()
log = tracker.get_log(f"client_{client_id}")

exporter = MarkdownExporter()
report = exporter.export_single_property(log)

# –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∫–ª–∏–µ–Ω—Ç—É
with open(f"reports/client_{client_id}_report.md", "w") as f:
    f.write(report)
```

---

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –û—Ç–∫–ª—é—á–µ–Ω–∏–µ —Ç—Ä–µ–∫–∏–Ω–≥–∞

–¢—Ä–µ–∫–∏–Ω–≥ –º–æ–∂–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç—å –¥–ª—è –ø–æ–≤—ã—à–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:

```python
# –ì–ª–æ–±–∞–ª—å–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç—å (–Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
TRACKING_ENABLED = False

# –ò–ª–∏ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ analyzer
analyzer = RealEstateAnalyzer(
    property_id="...",
    enable_tracking=False  # –û—Ç–∫–ª—é—á–∏—Ç—å —Ç—Ä–µ–∫–∏–Ω–≥
)
```

### –û—á–∏—Å—Ç–∫–∞ –ª–æ–≥–æ–≤

```python
from src.analytics.property_tracker import get_tracker

tracker = get_tracker()

# –û—á–∏—Å—Ç–∏—Ç—å –≤—Å–µ –ª–æ–≥–∏
tracker.logs.clear()

# –ò–ª–∏ —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π tracker
from src.analytics import property_tracker
property_tracker.global_tracker = PropertyTracker()
```

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç —Å–∏—Å—Ç–µ–º—ã:

```bash
python3 test_tracking_system.py
```

–¢–µ—Å—Ç —Å–æ–∑–¥–∞—ë—Ç 3 —Ç–µ—Å—Ç–æ–≤—ã—Ö –æ–±—ä–µ–∫—Ç–∞ –∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –æ—Ç—á—ë—Ç—ã:
- `test_single_property.md` - –æ—Ç—á—ë—Ç –ø–æ –æ–¥–Ω–æ–º—É –æ–±—ä–µ–∫—Ç—É
- `test_all_properties.md` - –æ—Ç—á—ë—Ç –ø–æ –≤—Å–µ–º –æ–±—ä–µ–∫—Ç–∞–º
- `test_summary.md` - –∫—Ä–∞—Ç–∫–∞—è —Å–≤–æ–¥–∫–∞

---

## üìà –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- **–ù–∞–∫–ª–∞–¥–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã:** ~5-10 –º—Å –Ω–∞ –æ–±—ä–µ–∫—Ç
- **–ü–∞–º—è—Ç—å:** ~2-5 KB –Ω–∞ –æ–±—ä–µ–∫—Ç –≤ –ø–∞–º—è—Ç–∏
- **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å:** –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ –Ω–∞ 1000+ –æ–±—ä–µ–∫—Ç–æ–≤

---

## üîÆ –ë—É–¥—É—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

- [ ] –≠–∫—Å–ø–æ—Ä—Ç –≤ HTML —Å –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–º–∏ –≥—Ä–∞—Ñ–∏–∫–∞–º–∏
- [ ] –≠–∫—Å–ø–æ—Ä—Ç –≤ PDF
- [ ] –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ª–æ–≥–æ–≤ –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
- [ ] REST API –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –ª–æ–≥–∞–º
- [ ] –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram –¥–ª—è –æ—Ç—á—ë—Ç–æ–≤

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö –∏–ª–∏ –≤–æ–ø—Ä–æ—Å–∞—Ö:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ `TRACKING_ENABLED = True`
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `property_id` –ø–µ—Ä–µ–¥–∞–Ω –≤ analyzer
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ Python –Ω–∞ –æ—à–∏–±–∫–∏

---

**–í–µ—Ä—Å–∏—è:** 1.0.0
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2025-11-06
