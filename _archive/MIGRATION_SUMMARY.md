# ‚úÖ –ú–∏–≥—Ä–∞—Ü–∏—è –Ω–∞ calendar.housler.ru - –ì–æ—Ç–æ–≤–æ!

## üì¶ –ß—Ç–æ —Å–æ–∑–¥–∞–Ω–æ:

### 1. **nginx-housler.conf** (100 —Å—Ç—Ä–æ–∫)
- –ì–æ—Ç–æ–≤–∞—è Nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è `calendar.housler.ru`
- HTTP ‚Üí HTTPS redirect
- SSL/TLS –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- Proxy –¥–ª—è API (/api/, /health, /telegram/webhook)
- –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã –∏–∑ app/static/
- Security headers

### 2. **SETUP_HOUSLER_DOMAIN_QUICK.md** (322 —Å—Ç—Ä–æ–∫–∏)
- –ü–æ–ª–Ω–∞—è –ø–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è
- DNS –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
- Nginx + SSL —É—Å—Ç–∞–Ω–æ–≤–∫–∞
- Telegram Menu Button –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
- –î–µ–ø–ª–æ–π –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- Troubleshooting

### 3. **deploy_updates.sh** (–æ–±–Ω–æ–≤–ª—ë–Ω)
- –¢–µ–ø–µ—Ä—å –¥–µ–ø–ª–æ–∏—Ç 7 —Ñ–∞–π–ª–æ–≤ (–±—ã–ª–æ 6)
- –î–æ–±–∞–≤–ª–µ–Ω: `app/static/index.html` ‚úÖ
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

---

## üöÄ –í–∞—à–∏ —Å–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:

### –®–∞–≥ 1: DNS –∑–∞–ø–∏—Å—å (–ø—Ä—è–º–æ —Å–µ–π—á–∞—Å, 2 –º–∏–Ω—É—Ç—ã)

–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–æ–º–µ–Ω–æ–º `housler.ru` –∏ –¥–æ–±–∞–≤—å—Ç–µ:

```
–¢–∏–ø:     A
–ò–º—è:     calendar
–ó–Ω–∞—á–µ–Ω–∏–µ: 91.229.8.221
TTL:     3600
```

**–ì–¥–µ –∏—Å–∫–∞—Ç—å:**
- REG.RU: –ú–æ–∏ –¥–æ–º–µ–Ω—ã ‚Üí housler.ru ‚Üí DNS-—Å–µ—Ä–≤–µ—Ä—ã –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–æ–Ω–æ–π
- –ò–ª–∏ –≤ –≤–∞—à–µ–π –ø–∞–Ω–µ–ª–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–æ–º–µ–Ω–æ–º

---

### –®–∞–≥ 2: –ü–æ–∫–∞ DNS propagates (5-10 –º–∏–Ω—É—Ç)

**–ü–æ–¥–æ–∂–¥–∏—Ç–µ 5-10 –º–∏–Ω—É—Ç** –ø–æ–∫–∞ DNS –∑–∞–ø–∏—Å—å —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–∏—Ç—Å—è.

–ó–∞ —ç—Ç–æ –≤—Ä–µ–º—è:
1. SSH –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ —Ä–∞–∑–±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è
2. DNS –∑–∞–ø–∏—Å—å –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–∞ –≥–ª–æ–±–∞–ª—å–Ω–æ

**–ü—Ä–æ–≤–µ—Ä–∫–∞ DNS:**
```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç–µ —á–µ—Ä–µ–∑ 5 –º–∏–Ω—É—Ç, –¥–æ–ª–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å: 91.229.8.221
dig calendar.housler.ru +short

# –ò–ª–∏ —á–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä:
nslookup calendar.housler.ru
```

---

### –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Å–µ—Ä–≤–µ—Ä (15 –º–∏–Ω—É—Ç)

**–û—Ç–∫—Ä–æ–π—Ç–µ —Ç–µ—Ä–º–∏–Ω–∞–ª –∏ —Å–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏:**

```bash
# 1. –û—Ç–∫—Ä–æ–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é
open SETUP_HOUSLER_DOMAIN_QUICK.md

# 2. –ò–ª–∏ –ø—Ä–æ—á–∏—Ç–∞–π—Ç–µ –∑–¥–µ—Å—å:
cat SETUP_HOUSLER_DOMAIN_QUICK.md
```

**–ö—Ä–∞—Ç–∫–æ (–¥–ª—è –æ–ø—ã—Ç–Ω—ã—Ö):**

```bash
# –°–∫–æ–ø–∏—Ä—É–π—Ç–µ Nginx –∫–æ–Ω—Ñ–∏–≥ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
scp nginx-housler.conf root@91.229.8.221:/tmp/

# –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É
ssh root@91.229.8.221

# –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Nginx
cp /tmp/nginx-housler.conf /etc/nginx/sites-available/calendar.housler.ru
ln -s /etc/nginx/sites-available/calendar.housler.ru /etc/nginx/sites-enabled/
nginx -t && systemctl reload nginx

# –ü–æ–ª—É—á–∏—Ç–µ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç
certbot --nginx -d calendar.housler.ru

# –û–±–Ω–æ–≤–∏—Ç–µ .env
cd /root/ai-calendar-assistant/ai-calendar-assistant
nano .env
# –î–æ–±–∞–≤—å—Ç–µ:
# WEBAPP_DOMAIN=calendar.housler.ru
# WEBAPP_URL=https://calendar.housler.ru

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ
docker-compose restart
```

---

### –®–∞–≥ 4: –û–±–Ω–æ–≤–∏—Ç–µ Telegram Menu (2 –º–∏–Ω—É—Ç—ã)

**–í–∞—Ä–∏–∞–Ω—Ç –ê: –ß–µ—Ä–µ–∑ curl**
```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ –∏–ª–∏ –ª–æ–∫–∞–ª—å–Ω–æ
BOT_TOKEN="8378762774:AAE7oEvJX3fcHmLTQJPzQb9EIgQHXUWuaPI"

curl -X POST "https://api.telegram.org/bot${BOT_TOKEN}/setChatMenuButton" \
  -H "Content-Type: application/json" \
  -d '{
    "menu_button": {
      "type": "web_app",
      "text": "üóì –ö–∞–ª–µ–Ω–¥–∞—Ä—å",
      "web_app": {
        "url": "https://calendar.housler.ru"
      }
    }
  }'
```

**–í–∞—Ä–∏–∞–Ω—Ç –ë: –ß–µ—Ä–µ–∑ BotFather**
1. Telegram ‚Üí @BotFather ‚Üí /mybots
2. –í—ã–±–µ—Ä–∏—Ç–µ –±–æ—Ç–∞ ‚Üí Bot Settings ‚Üí Menu Button
3. URL: `https://calendar.housler.ru`
4. –¢–µ–∫—Å—Ç: `üóì –ö–∞–ª–µ–Ω–¥–∞—Ä—å`

---

### –®–∞–≥ 5: –î–µ–ø–ª–æ–π –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (2 –º–∏–Ω—É—Ç—ã)

**–ö–æ–≥–¥–∞ SSH —Ä–∞–∑–±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è:**

```bash
# 1. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ SSH –∫–ª—é—á (–æ–¥–∏–Ω —Ä–∞–∑, –≤–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å)
ssh-copy-id -i ~/.ssh/calendar_deploy.pub root@91.229.8.221

# 2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ
ssh -i ~/.ssh/calendar_deploy root@91.229.8.221 'echo "‚úÖ Works!"'

# 3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –¥–µ–ø–ª–æ–π
cd ~/Desktop/AI-Calendar-Project/ai-calendar-assistant
./deploy_updates.sh
```

**–°–∫—Ä–∏–ø—Ç –∑–∞–¥–µ–ø–ª–æ–∏—Ç:**
- app/services/llm_agent_yandex.py
- app/services/telegram_handler.py
- app/routers/todos.py
- app/routers/events.py
- app/services/todo_service.py
- app/models/analytics.py
- **app/static/index.html** ‚Üê –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ!

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:

### 1. DNS —Ä–∞–±–æ—Ç–∞–µ—Ç:
```bash
dig calendar.housler.ru +short
# –û–∂–∏–¥–∞–µ–º: 91.229.8.221
```

### 2. SSL –∞–∫—Ç–∏–≤–µ–Ω:
```bash
curl -I https://calendar.housler.ru/health
# –û–∂–∏–¥–∞–µ–º: HTTP/2 200
```

### 3. –í–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:
–û—Ç–∫—Ä–æ–π—Ç–µ: `https://calendar.housler.ru`
- ‚úÖ –ó–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
- ‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ç–µ–∫—É—â–∞—è –¥–∞—Ç–∞ (–Ω–µ 30 –æ–∫—Ç—è–±—Ä—è!)
- ‚úÖ TODO —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚úÖ –ö–∞–ª–µ–Ω–¥–∞—Ä—å –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Å–æ–±—ã—Ç–∏—è

### 4. Telegram –±–æ—Ç:
1. –û—Ç–∫—Ä–æ–π—Ç–µ –±–æ—Ç–∞
2. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É `üóì –ö–∞–ª–µ–Ω–¥–∞—Ä—å`
3. –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è `https://calendar.housler.ru`
4. –ú–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å —Å–æ–±—ã—Ç–∏–µ/TODO

---

## üìä –ò—Ç–æ–≥–æ–≤–æ–µ –≤—Ä–µ–º—è:

| –®–∞–≥ | –í—Ä–µ–º—è |
|-----|-------|
| DNS –∑–∞–ø–∏—Å—å –¥–æ–±–∞–≤–∏—Ç—å | 2 –º–∏–Ω |
| DNS propagation (–æ–∂–∏–¥–∞–Ω–∏–µ) | 5-10 –º–∏–Ω |
| Nginx + SSL –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ | 10 –º–∏–Ω |
| Telegram Menu –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ | 2 –º–∏–Ω |
| SSH –∫–ª—é—á + –¥–µ–ø–ª–æ–π | 2 –º–∏–Ω |
| **–ò–¢–û–ì–û** | **~20-30 –º–∏–Ω** |

---

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç:

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö —à–∞–≥–æ–≤:

‚úÖ **–í–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:** https://calendar.housler.ru  
‚úÖ **HTTPS:** Let's Encrypt SSL  
‚úÖ **TODO:** –†–∞–±–æ—Ç–∞—é—Ç  
‚úÖ **Calendar:** –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–µ–∫—É—â—É—é –¥–∞—Ç—É  
‚úÖ **Telegram:** –ö–Ω–æ–ø–∫–∞ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –Ω–æ–≤—ã–π –¥–æ–º–µ–Ω  

---

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:

- **SETUP_HOUSLER_DOMAIN_QUICK.md** - –ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è (–æ—Ç–∫—Ä—ã–≤–∞–π—Ç–µ –µ—ë!)
- **nginx-housler.conf** - –ì–æ—Ç–æ–≤–∞—è Nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- **deploy_updates.sh** - –ê–≤—Ç–æ–¥–µ–ø–ª–æ–π (–≤–∫–ª—é—á–∞—è –≤–µ–±-–∞–ø–ø)

---

## üÜò –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:

–û—Ç–∫—Ä–æ–π—Ç–µ **SETUP_HOUSLER_DOMAIN_QUICK.md** ‚Üí —Ä–∞–∑–¥–µ–ª "Troubleshooting"

–ò–ª–∏ –Ω–∞–ø–∏—à–∏—Ç–µ –º–Ω–µ, –ø–æ–º–æ–≥—É —Ä–∞–∑–æ–±—Ä–∞—Ç—å—Å—è!

---

**–ù–∞—á–∏–Ω–∞–π—Ç–µ —Å DNS –∑–∞–ø–∏—Å–∏ –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å!** üöÄ

–ü–æ–∫–∞ DNS propagates, SSH —Ä–∞–∑–±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è, –∏ –≤—ã —Å–º–æ–∂–µ—Ç–µ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –≤—Å—ë –æ—Å—Ç–∞–ª—å–Ω–æ–µ –∑–∞ —Ä–∞–∑.
