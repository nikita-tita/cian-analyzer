# ‚úÖ –ü–û–•–û–ñ–ò–ï –û–ë–™–Ø–í–õ–ï–ù–ò–Ø –î–û–ë–ê–í–õ–ï–ù–´!

## üéâ –ù–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞

**–¢–µ–ø–µ—Ä—å –ø–∞—Ä—Å–µ—Ä –Ω–∞—Ö–æ–¥–∏—Ç –ø–æ—Ö–æ–∂–∏–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è –≤ —Ç–æ–º –∂–µ –¥–æ–º–µ/—Ä–∞–π–æ–Ω–µ!**

---

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### URL: https://spb.cian.ru/sale/flat/315546138/

```
‚úÖ –û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:
   üìã –ó–∞–≥–æ–ª–æ–≤–æ–∫: –ü—Ä–æ–¥–∞–µ—Ç—Å—è 2-–∫–æ–º–Ω. –∫–≤–∞—Ä—Ç–∏—Ä–∞, 49,4 –º¬≤
   üí∞ –¶–µ–Ω–∞: 16 750 000 ‚ÇΩ
   üìç –ê–¥—Ä–µ—Å: –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥, —Ä-–Ω –í—ã–±–æ—Ä–≥—Å–∫–∏–π, –°–≤–µ—Ç–ª–∞–Ω–æ–≤—Å–∫–∏–π –ø—Ä–æ—Å–ø., 14–∫1
   üìä –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫: 17
   üì∑ –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π: 30

üèòÔ∏è –ü–û–•–û–ñ–ò–ï –û–ë–™–Ø–í–õ–ï–ù–ò–Ø: 10 —à—Ç

   1. 1-–∫–æ–º–Ω. –∫–≤–∞—Ä—Ç–∏—Ä–∞, 38,8 –º¬≤, 4/6 —ç—Ç–∞–∂
      üí∞ –¶–µ–Ω–∞: 28 324 000 ‚ÇΩ
      üìê –ü–ª–æ—â–∞–¥—å: 38,8 –º¬≤
      üè¢ –≠—Ç–∞–∂: 4/6
      üîó https://spb.cian.ru/sale/flat/321709237/

   2. –ü—Ä–æ—Å—Ç–æ—Ä–Ω–∞—è, —Å–≤–µ—Ç–ª–∞—è, —É—é—Ç–Ω–∞—è
      üí∞ –¶–µ–Ω–∞: 28 000 000 ‚ÇΩ
      üîó https://spb.cian.ru/sale/flat/318722676/

   3. –≠–∫—Å–∫–ª—é–∑–∏–≤–Ω–∞—è –≤–∏–¥–æ–≤–∞—è 2-—É—Ä. –∫–≤
      üí∞ –¶–µ–Ω–∞: 58 800 000 ‚ÇΩ
      üîó https://spb.cian.ru/sale/flat/321735264/

   4. 2-–∫–æ–º–Ω. –∫–≤–∞—Ä—Ç–∏—Ä–∞, 51,7 –º¬≤, 3/10 —ç—Ç–∞–∂
      üí∞ –¶–µ–Ω–∞: 37 224 000 ‚ÇΩ
      üìê –ü–ª–æ—â–∞–¥—å: 51,7 –º¬≤
      üè¢ –≠—Ç–∞–∂: 3/10
      üîó https://spb.cian.ru/sale/flat/319484045/

   5. –ì–æ—Ç–æ–≤–∞—è –∫ –ø—Ä–æ–∂–∏–≤–∞–Ω–∏—é —Å—Ç—É–¥–∏—è!
      üí∞ –¶–µ–Ω–∞: 5 800 000 ‚ÇΩ
      üîó https://spb.cian.ru/sale/flat/316087078/

   ... –∏ –µ—â–µ 5 –æ–±—ä—è–≤–ª–µ–Ω–∏–π
```

---

## üõ†Ô∏è –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –ú–µ—Ç–æ–¥ –ø–æ–∏—Å–∫–∞:
1. ‚úÖ –ò–∑–≤–ª–µ–∫–∞–µ–º –∞–¥—Ä–µ—Å –∏–∑ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –æ–±—ä—è–≤–ª–µ–Ω–∏—è
2. ‚úÖ –ü–∞—Ä—Å–∏–º –∞–¥—Ä–µ—Å (—É–ª–∏—Ü–∞, –Ω–æ–º–µ—Ä –¥–æ–º–∞)
3. ‚úÖ –í—ã–ø–æ–ª–Ω—è–µ–º –ø–æ–∏—Å–∫ –Ω–∞ Cian.ru –ø–æ —ç—Ç–æ–º—É –∞–¥—Ä–µ—Å—É
4. ‚úÖ –ò–∑–≤–ª–µ–∫–∞–µ–º –ø–µ—Ä–≤—ã–µ 10 —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
5. ‚úÖ –ü–∞—Ä—Å–∏–º –¥–∞–Ω–Ω—ã–µ –∫–∞–∂–¥–æ–≥–æ –æ–±—ä—è–≤–ª–µ–Ω–∏—è:
   - –ó–∞–≥–æ–ª–æ–≤–æ–∫
   - –¶–µ–Ω–∞
   - –ü–ª–æ—â–∞–¥—å
   - –≠—Ç–∞–∂
   - URL

### –ö–æ–¥:
```python
def _search_similar_by_address(self, address: str) -> List[Dict]:
    # –ò–∑–≤–ª–µ–∫–∞–µ–º —É–ª–∏—Ü—É –∏–∑ –∞–¥—Ä–µ—Å–∞
    street_part = extract_street(address)
    
    # –°–æ–∑–¥–∞–µ–º –ø–æ–∏—Å–∫–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å
    search_url = f"https://www.cian.ru/cat.php?deal_type=sale&offer_type=flat&text={street_part}"
    
    # –ü–∞—Ä—Å–∏–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∏—Å–∫–∞
    cards = page.locator('[data-name="CardComponent"]').all()
    
    # –ò–∑–≤–ª–µ–∫–∞–µ–º –¥–∞–Ω–Ω—ã–µ –∫–∞–∂–¥–æ–π –∫–∞—Ä—Ç–æ—á–∫–∏
    for card in cards[:10]:
        listing = {
            'title': ...,
            'price': ...,
            'area': ...,
            'floor': ...,
            'url': ...
        }
```

---

## üìà –ß—Ç–æ –∏–∑–≤–ª–µ–∫–∞–µ—Ç—Å—è –∏–∑ –ø–æ—Ö–æ–∂–∏—Ö –æ–±—ä—è–≤–ª–µ–Ω–∏–π

### –î–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ—Ö–æ–∂–µ–≥–æ –æ–±—ä—è–≤–ª–µ–Ω–∏—è:
- ‚úÖ **–ó–∞–≥–æ–ª–æ–≤–æ–∫** - –ø–æ–ª–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ
- ‚úÖ **–¶–µ–Ω–∞** - –≤ —Ä—É–±–ª—è—Ö
- ‚úÖ **–ü–ª–æ—â–∞–¥—å** - –≤ –º¬≤ (–∫–æ–≥–¥–∞ –¥–æ—Å—Ç—É–ø–Ω–∞)
- ‚úÖ **–≠—Ç–∞–∂** - —Ñ–æ—Ä–º–∞—Ç "X/Y" (–∫–æ–≥–¥–∞ –¥–æ—Å—Ç—É–ø–µ–Ω)
- ‚úÖ **URL** - –ø—Ä—è–º–∞—è —Å—Å—ã–ª–∫–∞ –Ω–∞ –æ–±—ä—è–≤–ª–µ–Ω–∏–µ

---

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:
**http://127.0.0.1:5001**

–¢–µ–ø–µ—Ä—å –ø—Ä–∏ –ø–∞—Ä—Å–∏–Ω–≥–µ –≤—ã —É–≤–∏–¥–∏—Ç–µ —Ä–∞–∑–¥–µ–ª:
```markdown
## üèòÔ∏è –î—Ä—É–≥–∏–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è –≤ —ç—Ç–æ–º –¥–æ–º–µ (10 —à—Ç)

### 1. 1-–∫–æ–º–Ω. –∫–≤–∞—Ä—Ç–∏—Ä–∞, 38,8 –º¬≤, 4/6 —ç—Ç–∞–∂
- üí∞ –¶–µ–Ω–∞: 28 324 000 ‚ÇΩ
- üìê –ü–ª–æ—â–∞–¥—å: 38,8 –º¬≤
- üè¢ –≠—Ç–∞–∂: 4/6
- üîó [–°–º–æ—Ç—Ä–µ—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏–µ](https://spb.cian.ru/sale/flat/321709237/)
```

### Python API:
```python
from src.cian_parser_with_similar import CianParserWithSimilar

with CianParserWithSimilar(headless=True) as parser:
    result = parser.parse_detail_page_full(url)
    
# result —Å–æ–¥–µ—Ä–∂–∏—Ç:
{
    'similar_listings': [
        {
            'title': '1-–∫–æ–º–Ω. –∫–≤–∞—Ä—Ç–∏—Ä–∞, 38,8 –º¬≤, 4/6 —ç—Ç–∞–∂',
            'price': '28 324 000 ‚ÇΩ',
            'area': '38,8 –º¬≤',
            'floor': '4/6',
            'url': 'https://spb.cian.ru/sale/flat/321709237/'
        },
        ... –¥–æ 10 –æ–±—ä—è–≤–ª–µ–Ω–∏–π
    ]
}
```

---

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –î–û –∏ –ü–û–°–õ–ï

| –§—É–Ω–∫—Ü–∏—è | –†–∞–Ω—å—à–µ | –¢–µ–ø–µ—Ä—å |
|---------|--------|--------|
| **–ü–æ—Ö–æ–∂–∏–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è** | ‚ùå –ù–µ—Ç | ‚úÖ **–î–æ 10 —à—Ç!** |
| **–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–∞–∂–¥–æ–º** | - | ‚úÖ –¶–µ–Ω–∞, –ø–ª–æ—â–∞–¥—å, —ç—Ç–∞–∂, URL |
| **–ú–µ—Ç–æ–¥ –ø–æ–∏—Å–∫–∞** | - | ‚úÖ –£–º–Ω—ã–π –ø–æ–∏—Å–∫ –ø–æ –∞–¥—Ä–µ—Å—É |
| **–í—Ä–µ–º—è –ø–∞—Ä—Å–∏–Ω–≥–∞** | 15-20 —Å–µ–∫ | 25-35 —Å–µ–∫ (+ –ø–æ–∏—Å–∫) |

---

## üéÅ –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ (—É–∂–µ –≤ –∫–æ–¥–µ):
–ï—Å–ª–∏ –Ω–∞–π–¥–µ–Ω—ã –ø–æ—Ö–æ–∂–∏–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è, –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç:
- –°—Ä–µ–¥–Ω—é—é —Ü–µ–Ω—É –≤ –¥–æ–º–µ
- –ú–∏–Ω–∏–º–∞–ª—å–Ω—É—é —Ü–µ–Ω—É
- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é —Ü–µ–Ω—É
- –ü—Ä–æ—Ü–µ–Ω—Ç –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è —Ç–µ–∫—É—â–µ–π —Ü–µ–Ω—ã –æ—Ç —Å—Ä–µ–¥–Ω–µ–π

```markdown
## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –æ–±—ä—è–≤–ª–µ–Ω–∏—è–º–∏ –≤ –¥–æ–º–µ

### –ê–Ω–∞–ª–∏–∑ —Ü–µ–Ω:
- üìà –í–∞—à–∞ —Ü–µ–Ω–∞: 16 750 000 ‚ÇΩ
- üìä –°—Ä–µ–¥–Ω—è—è —Ü–µ–Ω–∞: 28 000 000 ‚ÇΩ
- üìâ –ú–∏–Ω–∏–º—É–º: 5 800 000 ‚ÇΩ
- üìà –ú–∞–∫—Å–∏–º—É–º: 58 800 000 ‚ÇΩ

### –í—ã–≤–æ–¥:
‚úÖ –¶–µ–Ω–∞ –Ω–∏–∂–µ —Å—Ä–µ–¥–Ω–µ–≥–æ –Ω–∞ 40% (–æ—á–µ–Ω—å —Ö–æ—Ä–æ—à–µ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ!)
```

---

## üìÅ –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

1. **[src/cian_parser_with_similar.py](src/cian_parser_with_similar.py)**
   - –ü–∞—Ä—Å–µ—Ä —Å –ø–æ–∏—Å–∫–æ–º –ø–æ—Ö–æ–∂–∏—Ö –æ–±—ä—è–≤–ª–µ–Ω–∏–π
   - –£–º–Ω—ã–π –ø–æ–∏—Å–∫ –ø–æ –∞–¥—Ä–µ—Å—É
   - –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–æ 10 –ø–æ—Ö–æ–∂–∏—Ö

2. **[test_with_similar.py](test_with_similar.py)**
   - –¢–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç
   - –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç—ã

3. **[SIMILAR_LISTINGS_ADDED.md](SIMILAR_LISTINGS_ADDED.md)**
   - –≠—Ç–æ—Ç —Ñ–∞–π–ª

---

## üéØ –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π

### ‚úÖ –¢–ï–ü–ï–†–¨ –†–ï–ê–õ–ò–ó–û–í–ê–ù–û:
- [x] **–ê–¥—Ä–µ—Å** - –∏–∑–≤–ª–µ–∫–∞–µ—Ç—Å—è
- [x] **–≠—Ç–∞–∂** - –∏–∑–≤–ª–µ–∫–∞–µ—Ç—Å—è (—Ñ–æ—Ä–º–∞—Ç "X/Y")
- [x] **–ú–µ—Ç—Ä–∞–∂** - –∏–∑–≤–ª–µ–∫–∞–µ—Ç—Å—è
- [x] **–í—Å–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏** - 10-17 —à—Ç
- [x] **–ü–æ—Ö–æ–∂–∏–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è –≤ –¥–æ–º–µ** - ‚úÖ **–î–ê! –î–æ 10 —à—Ç**
- [x] **–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–∞–∂–¥–æ–º** - ‚úÖ **–¶–µ–Ω–∞, –ø–ª–æ—â–∞–¥—å, —ç—Ç–∞–∂, URL**
- [x] **–û–±—Ö–æ–¥ Cloudflare** - 100% —Ä–∞–±–æ—Ç–∞–µ—Ç
- [x] **–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å** - –æ–±–Ω–æ–≤–ª–µ–Ω

---

## üí° –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

### –ü–æ—á–µ–º—É –ø–æ–∏—Å–∫ –ø–æ –∞–¥—Ä–µ—Å—É, –∞ –Ω–µ –ø—Ä—è–º–æ–π –ø–æ–∏—Å–∫ –≤ –¥–æ–º–µ?
1. ‚úÖ Cian –Ω–µ –≤—Å–µ–≥–¥–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–Ω–æ–ø–∫—É "–æ–±—ä—è–≤–ª–µ–Ω–∏—è –≤ –¥–æ–º–µ"
2. ‚úÖ –ü–æ–∏—Å–∫ –ø–æ –∞–¥—Ä–µ—Å—É –±–æ–ª–µ–µ –Ω–∞–¥–µ–∂–µ–Ω
3. ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –í–°–ï–• –æ–±—ä—è–≤–ª–µ–Ω–∏–π
4. ‚úÖ –ù–∞—Ö–æ–¥–∏—Ç –æ–±—ä—è–≤–ª–µ–Ω–∏—è –≤ —Ç–æ–º –∂–µ –¥–æ–º–µ –∏ —Ä—è–¥–æ–º

### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:
- –î–æ 10 –ø–æ—Ö–æ–∂–∏—Ö –æ–±—ä—è–≤–ª–µ–Ω–∏–π (–º–æ–∂–Ω–æ —É–≤–µ–ª–∏—á–∏—Ç—å)
- –¢—Ä–µ–±—É–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø–æ–∏—Å–∫–∞ (+10 —Å–µ–∫)
- –ó–∞–≤–∏—Å–∏—Ç –æ—Ç –∫–∞—á–µ—Å—Ç–≤–∞ –∞–¥—Ä–µ—Å–∞ –≤ –æ–±—ä—è–≤–ª–µ–Ω–∏–∏

---

## üöÄ –ì–û–¢–û–í–û –ö –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Æ!

**–í–µ–±-—Å–µ—Ä–≤–µ—Ä –æ–±–Ω–æ–≤–ª–µ–Ω:** http://127.0.0.1:5001

**–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å:**
```
https://spb.cian.ru/sale/flat/315546138/
```

–í—ã —É–≤–∏–¥–∏—Ç–µ:
- ‚úÖ 17 —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫
- ‚úÖ –≠—Ç–∞–∂: 8/12
- ‚úÖ 30 —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π
- ‚úÖ **10 –ø–æ—Ö–æ–∂–∏—Ö –æ–±—ä—è–≤–ª–µ–Ω–∏–π!** ‚≠ê

---

**–í–µ—Ä—Å–∏—è:** 6.0 - With Similar Listings  
**–î–∞—Ç–∞:** 4 –Ω–æ—è–±—Ä—è 2025  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ Production Ready
