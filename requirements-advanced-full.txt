# ═══════════════════════════════════════════════════════════════
# ADAPTIVE PARSING STACK - Полный набор технологий
# ═══════════════════════════════════════════════════════════════

# ─────────────────────────────────────────────────────────────
# Core Dependencies
# ─────────────────────────────────────────────────────────────
requests>=2.31.0
beautifulsoup4>=4.12.0
lxml>=4.9.0
python-dotenv>=1.0.0
fake-useragent>=1.4.0
tenacity>=8.2.3

# ─────────────────────────────────────────────────────────────
# Browser Automation (Tier 1-3)
# ─────────────────────────────────────────────────────────────

# Playwright (Tier 1 - Base)
playwright>=1.40.0

# Playwright Stealth (Tier 2 - Anti-detection)
playwright-stealth>=0.1.0

# Nodriver (Tier 3 - Maximum anti-detection)
nodriver>=0.28

# Scrapy ecosystem
scrapy>=2.11.0
scrapy-playwright>=0.0.34

# ─────────────────────────────────────────────────────────────
# HTTP Clients (Tier 4 - TLS Fingerprint Evasion)
# ─────────────────────────────────────────────────────────────

# curl_cffi - Обход TLS fingerprinting
curl-cffi>=0.6.0

# httpx - Modern async HTTP with HTTP/2
httpx[http2]>=0.25.0

# ─────────────────────────────────────────────────────────────
# Fast HTML Parsing (Tier 5)
# ─────────────────────────────────────────────────────────────

# Selectolax - 5-10x faster than BeautifulSoup
selectolax>=0.3.0

# Parsel - Powerful selectors (used in Scrapy)
parsel>=1.8.0

# ─────────────────────────────────────────────────────────────
# Additional Anti-Detection Tools
# ─────────────────────────────────────────────────────────────

# Undetected Chromedriver (Selenium alternative)
# undetected-chromedriver>=3.5.0  # Опционально, если нужен Selenium

# ─────────────────────────────────────────────────────────────
# Proxy and Session Management
# ─────────────────────────────────────────────────────────────

# aiohttp with SOCKS support
aiohttp>=3.9.0
aiohttp-socks>=0.8.0

# ─────────────────────────────────────────────────────────────
# Data Processing and Validation
# ─────────────────────────────────────────────────────────────
pydantic>=2.5.0
numpy>=1.24.0
scipy>=1.11.0

# ─────────────────────────────────────────────────────────────
# Caching and Storage
# ─────────────────────────────────────────────────────────────
redis>=5.0.0

# ─────────────────────────────────────────────────────────────
# Testing Framework
# ─────────────────────────────────────────────────────────────
pytest>=7.4.0
pytest-cov>=4.1.0
pytest-asyncio>=0.21.0
pytest-playwright>=0.4.0
pytest-mock>=3.12.0
coverage>=7.3.0

# ─────────────────────────────────────────────────────────────
# Fuzzy Matching and ML (для поиска по ЖК)
# ─────────────────────────────────────────────────────────────
rapidfuzz>=3.5.0  # Быстрый fuzzy matching
thefuzz>=0.20.0   # Python-Levenshtein fuzzy matching

# ─────────────────────────────────────────────────────────────
# Geocoding (для поиска по адресу)
# ─────────────────────────────────────────────────────────────
geopy>=2.4.0

# ─────────────────────────────────────────────────────────────
# Production Server
# ─────────────────────────────────────────────────────────────
Flask>=3.0.0
gunicorn>=21.2.0
Flask-Limiter>=3.5.0
Flask-WTF>=1.2.0

# ─────────────────────────────────────────────────────────────
# Logging and Monitoring
# ─────────────────────────────────────────────────────────────
loguru>=0.7.0  # Better logging
