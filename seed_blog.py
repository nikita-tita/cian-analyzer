#!/usr/bin/env python3
"""
Seed blog with sample articles
"""

from blog_database import BlogDatabase
from datetime import datetime, timedelta

db = BlogDatabase()

articles = [
    {
        "slug": "kak-otsenit-kvartiru-pered-prodazhey",
        "title": "Как правильно оценить квартиру перед продажей",
        "excerpt": "Методы оценки недвижимости: от анализа аналогов до учёта скрытых факторов, влияющих на цену.",
        "content": """Правильная оценка квартиры — первый шаг к успешной продаже. Завышенная цена отпугивает покупателей, заниженная — лишает вас прибыли.

Основные методы оценки:

Сравнительный анализ — самый надёжный способ. Изучите объявления похожих квартир в вашем районе: та же планировка, этаж, состояние. Но учтите, что цены в объявлениях часто завышены на 10-15%.

Факторы, влияющие на стоимость:

Локация — расстояние до метро, развитая инфраструктура, экология района. Квартира в 5 минутах от метро может стоить на 15-20% дороже аналогичной в 15 минутах ходьбы.

Состояние объекта — свежий ремонт, новая сантехника и окна повышают привлекательность. Но не вкладывайте в ремонт больше 5-7% от стоимости — это редко окупается при продаже.

Юридическая чистота — отсутствие обременений, долгов, прописанных жильцов. Проблемные объекты продаются со скидкой до 10%.

Профессиональная оценка даст объективную картину и поможет избежать ошибок при определении цены.""",
        "published_at": (datetime.now() - timedelta(days=5)).isoformat()
    },
    {
        "slug": "dokumenty-dlya-bezopasnoy-sdelki",
        "title": "Документы для безопасной сделки с недвижимостью",
        "excerpt": "Полный чек-лист проверок: от ЕГРН до согласий супругов. Что проверять до подписания договора.",
        "content": """Безопасность сделки начинается с правильной проверки документов. Пропущенная деталь может обернуться потерей квартиры и денег.

Обязательные документы:

Выписка из ЕГРН — главный документ, подтверждающий право собственности. Проверьте актуальность (не старше 30 дней), отсутствие обременений, арестов, запретов на сделки.

Паспорт собственника — сверьте данные с ЕГРН. Если продаёт представитель — нотариальная доверенность с правом продажи конкретного объекта.

Согласие супруга — обязательно, если квартира куплена в браке. Даже при разводе требуется согласие или решение суда о разделе имущества.

Дополнительные проверки:

Технический паспорт БТИ — убедитесь, что планировка совпадает с документами. Незаконные перепланировки придётся узаконивать за свой счёт.

Справка об отсутствии задолженности — по коммунальным платежам и капремонту. Долги переходят к новому собственнику.

История переходов права — если квартира много раз перепродавалась за короткий срок, это тревожный сигнал.

Не экономьте на юридической проверке — цена ошибки несопоставимо выше.""",
        "published_at": (datetime.now() - timedelta(days=10)).isoformat()
    },
    {
        "slug": "podgotovka-kvartiry-k-prodazhe",
        "title": "Подготовка квартиры к продаже: что работает в СПб",
        "excerpt": "Стейджинг, фотосъёмка и подача: как сделать объект привлекательным для покупателей без больших вложений.",
        "content": """Первое впечатление решает, будет ли просмотр квартиры. А первое впечатление — это фото в объявлении.

Подготовка к съёмке:

Уберите лишнее — персональные вещи, магниты на холодильнике, одежду на стульях. Квартира должна выглядеть как шоу-рум, а не жилое пространство.

Свет и воздух — откройте шторы, включите все светильники, проветрите помещение. Тёмные фото отталкивают.

Мелкий ремонт — подкрасьте сколы, замените розетки, протрите окна. Часовая работа может добавить 50-100 тысяч к цене.

Профессиональная съёмка:

Широкоугольный объектив — показывает пространство целиком. Фото на телефон искажает пропорции.

Правильные ракурсы — снимайте из углов комнат, чтобы показать планировку. Избегайте фото в упор к стенам.

Постобработка — лёгкая коррекция света и цвета. Но без фильтров и чрезмерного фотошопа — обман раскроется на просмотре.

Стейджинг — это не обязательно дорого. Свежие полотенца в ванной, фрукты на столе, живые цветы — детали, создающие атмосферу.

Инвестиция в качественные фото окупается в первые дни: объявления с профессиональными снимками получают в 3-4 раза больше откликов.""",
        "published_at": (datetime.now() - timedelta(days=15)).isoformat()
    },
    {
        "slug": "oshibki-pri-prodazhe-kvartiry",
        "title": "7 ошибок продавцов недвижимости",
        "excerpt": "Завышенная цена, плохая презентация, неверная стратегия — разбираем промахи, которые затягивают продажу.",
        "content": """Каждый месяц на рынке стоит денег. Избегайте типичных ошибок, и ваша квартира продастся быстрее.

Ошибка №1: Завышенная цена

"Поторгуемся" — худшая стратегия. Покупатели мониторят рынок и знают реальные цены. Завышение на 10-15% отсекает 80% потенциальных клиентов.

Ошибка №2: Плохие фото

Тёмные, размытые снимки на телефон — гарантия, что объявление пролистают. Профессиональная съёмка окупается в первую неделю.

Ошибка №3: Скрывать недостатки

Подъезд без ремонта, шумные соседи, стройка за окном — всё равно вылезет на просмотре. Честность экономит время всем.

Ошибка №4: Показывать неготовую квартиру

Грязная посуда, бельё на батареях, запах животных — покупатели уйдут через 5 минут. Готовьте квартиру как для гостей.

Ошибка №5: Не гибкость по времени показов

"Только после 18:00" — вы теряете покупателей, которые работают допоздна. Максимальная доступность = больше просмотров.

Ошибка №6: Эмоциональные решения

Квартира — это не история вашей жизни, это товар. Оценивайте предложения рационально, не обижайтесь на торг.

Ошибка №7: Экономия на агенте

Самостоятельная продажа экономит 2%, но занимает в 2-3 раза больше времени. Профессионал знает, как продать быстро и дорого.

Избежать этих ошибок просто — доверьте продажу специалистам или изучите рынок перед выходом на него.""",
        "published_at": (datetime.now() - timedelta(days=20)).isoformat()
    },
    {
        "slug": "vybor-rajona-dlya-pokupki-kvartiry-spb",
        "title": "Как выбрать район для покупки квартиры в Петербурге",
        "excerpt": "Инфраструктура, транспорт, экология — на что обратить внимание при выборе локации.",
        "content": """Район определяет не только комфорт жизни, но и потенциал роста стоимости квартиры.

Транспортная доступность:

Метро — главный фактор. Квартиры в 5 минутах от станции стоят на 15-20% дороже аналогичных в 15 минутах ходьбы.

Автомобильные магистрали — близость к КАД и ЗСД удобна для автомобилистов, но создаёт шум и загазованность.

Развитие метро — изучите планы строительства новых веток. Квартира рядом с будущей станцией — инвестиция в рост стоимости.

Инфраструктура:

Образование — наличие хороших школ и детсадов критично для семей с детьми. Проверьте рейтинги и отзывы.

Медицина — близость поликлиник и больниц важна, особенно для пожилых людей.

Торговля и сервисы — современные ЖК строятся с расчётом на собственную инфраструктуру, но в старых районах это может быть проблемой.

Экология и безопасность:

Промзоны и заводы — проверьте розу ветров. Вредные выбросы могут быть незаметны при просмотре, но отравлять жизнь ежедневно.

Парки и водоёмы — близость к зелёным зонам повышает привлекательность района и стоимость квартир.

Криминогенность — изучите статистику преступлений. Неблагополучные районы дешевле, но продать такую квартиру сложнее.

Перспективы развития:

Новостройки класса "комфорт" и выше повышают статус района. Массовая застройка эконом-класса — наоборот, может снизить привлекательность.

Выбор района — долгосрочное решение. Потратьте время на изучение локации, прежде чем покупать.""",
        "published_at": (datetime.now() - timedelta(days=25)).isoformat()
    },
    {
        "slug": "novostrojka-ili-vtorichka",
        "title": "Новостройка или вторичка: что выбрать в 2025",
        "excerpt": "Плюсы и минусы нового жилья и вторичного рынка. Актуальное сравнение для Санкт-Петербурга.",
        "content": """Выбор между новостройкой и вторичкой зависит от ваших приоритетов и бюджета.

Новостройка: преимущества

Современная планировка — свободная планировка, большие кухни, просторные санузлы. Новые дома проектируются с учётом потребностей современных семей.

Инфраструктура ЖК — детские площадки, паркинги, охрана. Комплексная застройка предусматривает всё необходимое.

Ипотечные программы — застройщики предлагают льготные условия, господдержку для семей с детьми, рассрочку.

Новостройка: недостатки

Сроки сдачи — задержки на 6-12 месяцев — обычная практика. Планируйте переезд с запасом.

Отделка "под ключ" — часто это низкое качество материалов и работ. Переделка может стоить 30-40% от стоимости.

Развитие района — новые микрорайоны могут годами ждать школ, поликлиник, транспорта.

Вторичка: преимущества

Сформированная инфраструктура — школы, магазины, транспорт уже есть. Не нужно ждать развития района.

Центральные локации — исторический центр, Васильевский остров — вторичный рынок. Новостройки там редкость.

Возможность торга — на вторичке можно сбить цену на 5-10%, особенно если собственник спешит.

Вторичка: недостатки

Состояние дома — старый фонд требует ремонта подъездов, крыши, коммуникаций. Капремонт может быть дорогим.

Планировки — маленькие кухни, совмещённые санузлы, низкие потолки в хрущёвках.

Юридические риски — проверка истории квартиры, прав собственников, обременений требует внимания.

Вывод: новостройка — для тех, кто готов ждать и хочет современный комфорт. Вторичка — для тех, кому важна локация и сформированная среда.""",
        "published_at": (datetime.now() - timedelta(days=30)).isoformat()
    },
    {
        "slug": "investitsii-v-nedvizhimost-spb",
        "title": "Инвестиции в недвижимость Петербурга: стратегии 2025",
        "excerpt": "Как выбрать квартиру для сдачи в аренду и заработать на росте стоимости.",
        "content": """Недвижимость — надёжный инструмент сохранения капитала, если подойти грамотно.

Стратегия №1: Покупка на этапе котлована

Максимальная скидка — застройщики продают квартиры на старте на 20-30% дешевле финальной цены.

Риски — задержка сроков, банкротство застройщика, недостроенная инфраструктура.

Как снизить риски — выбирайте крупных застройщиков с положительной историей, проверяйте разрешения на строительство, используйте эскроу-счета.

Стратегия №2: Квартиры для сдачи в аренду

Локация — близость к метро, офисным центрам, вузам. Студии и однушки сдаются лучше всего.

Доходность — 5-7% годовых в валюте от стоимости квартиры. Выше только если сдаёте посуточно, но это хлопотнее.

Расходы — коммунальные, ремонт, налоги (13% от дохода или 6% на патенте). Учитывайте простои между арендаторами.

Стратегия №3: Апартаменты

Дешевле квартир — на 15-20% при той же локации и планировке.

Нельзя прописаться — но для инвестиций это не критично.

Коммерческий налог — если сдаёте, платите как ИП или компания.

Стратегия №4: Реновация старого фонда

Покупка с ремонтом — квартиры в сталинках после ремонта стоят в 1.5-2 раза дороже "убитых".

Время и затраты — ремонт занимает 3-6 месяцев и стоит 30-50 тысяч за квадратный метр.

Риски — скрытые дефекты коммуникаций, несогласованные перепланировки прошлых владельцев.

Золотое правило инвестиций: не вкладывайте в недвижимость все деньги. Диверсификация снижает риски.""",
        "published_at": (datetime.now() - timedelta(days=35)).isoformat()
    },
    {
        "slug": "ipoteka-v-2025-chto-nuzhno-znat",
        "title": "Ипотека в 2025: что нужно знать перед оформлением",
        "excerpt": "Ставки, господдержка, выбор банка — практическое руководство для покупателей.",
        "content": """Ипотека — основной способ покупки жилья для большинства россиян. Разбираемся в нюансах.

Актуальные ставки 2025:

Стандартная ипотека — 13-15% годовых для первичного жилья, 14-16% для вторичного.

Семейная ипотека — 6% для семей с детьми, рождёнными с 2018 года.

IT-ипотека — 5% для работников IT-сферы.

Господдержка молодых семей — субсидия до 450 тысяч при рождении третьего ребёнка.

Как увеличить шансы на одобрение:

Кредитная история — проверьте свой скоринг в БКИ. Исправьте ошибки, закройте старые кредиты.

Официальный доход — чем выше подтверждённый доход, тем больше сумма одобрения.

Первоначальный взнос — минимум 15%, но чем больше, тем ниже ставка. С 30% взносом ставка может быть на 1-2% ниже.

Выбор банка:

Сравнивайте условия — ставка, комиссии, страховки. Разница в 0.5% ставки на 20 лет — это сотни тысяч переплаты.

Аккредитованные банки — для покупки в новостройке банк должен аккредитовать застройщика.

Досрочное погашение — проверьте, есть ли ограничения и комиссии.

Скрытые расходы:

Страхование — жизни, здоровья, имущества. Отказ от страховки повышает ставку на 1-2%.

Оценка квартиры — 3-5 тысяч, обязательна для ипотеки.

Регистрация — госпошлина за регистрацию права собственности и ипотеки.

Ипотека — это обязательство на годы. Просчитайте все сценарии, включая потерю дохода, перед подписанием договора.""",
        "published_at": (datetime.now() - timedelta(days=40)).isoformat()
    },
    {
        "slug": "remont-v-novostrojke-s-chego-nachat",
        "title": "Ремонт в новостройке: с чего начать",
        "excerpt": "Планирование, бюджет, подбор подрядчиков — пошаговое руководство для новосёлов.",
        "content": """Получили ключи от новостройки? Ремонт — следующий важный шаг. Разбираемся, как сделать его правильно.

Этап 1: Планирование

Обмеры и проект — закажите обмеры у геодезистов. Размеры могут отличаться от проектных на 5-10 см.

Дизайн-проект — если бюджет позволяет, закажите у профессионала. Сэкономите на переделках и ошибках.

Смета — детально просчитайте все работы и материалы. Заложите резерв 20% на непредвиденные расходы.

Этап 2: Черновая отделка

Электрика и сантехника — штробление стен, прокладка проводов, труб. Самый грязный и шумный этап.

Стяжка пола — выравнивание поверхности под финишное покрытие. Сохнет 3-4 недели.

Штукатурка стен — если стены кривые (а в новостройках это частая проблема).

Этап 3: Чистовая отделка

Напольные покрытия — ламинат, паркет, плитка. Укладывайте после всех мокрых работ.

Покраска стен — экономичнее обоев, проще в уходе, современнее.

Потолки — натяжные быстро, гипсокартон дешевле, покраска — долговечнее.

Выбор подрядчиков:

Рекомендации — спросите у друзей, соседей по дому. Реальные отзывы ценнее рекламы.

Договор — фиксируйте сроки, стоимость, объём работ. Не платите всю сумму авансом.

Контроль качества — проверяйте каждый этап до оплаты. Исправить проще до финишной отделки.

Типичные ошибки:

Экономия на материалах — дешёвая плитка трескается, дешёвая краска пахнет.

Спешка — качественный ремонт в двушке занимает 3-4 месяца. Не торопите мастеров.

Отсутствие контроля — если не разбираетесь сами, наймите независимого прораба.

Ремонт — это инвестиция в комфорт. Сделайте один раз качественно, чтобы не переделывать через год.""",
        "published_at": (datetime.now() - timedelta(days=45)).isoformat()
    },
    {
        "slug": "pereezd-v-peterburg-vybor-zhilya",
        "title": "Переезд в Петербург: как выбрать жильё",
        "excerpt": "Районы, транспорт, климат — всё, что нужно знать переезжающим в Северную столицу.",
        "content": """Петербург манит культурой и возможностями, но требует адаптации. Рассказываем, как выбрать жильё для комфортной жизни.

Особенности климата:

Влажность и ветер — петербургская погода ощущается холоднее, чем показывает термометр. Квартира с хорошим отоплением — must have.

Белые ночи — летом светло до полуночи. Плотные шторы или жалюзи обязательны для комфортного сна.

Короткий день зимой — солнце встаёт в 10, садится в 16. Квартиры с окнами на юг ценятся выше.

Выбор района для новичков:

Центр — Адмиралтейский, Петроградский районы. Дорого, но всё рядом. Для тех, кто ценит прогулки и культуру.

Васильевский остров — интеллигентский район, тихо, много зелени. Минус — добираться до других частей города долго.

Приморский район — современная застройка, хорошая экология, близость к Финскому заливу. Далеко от центра, но метро решает.

Московский район — средние цены, развитая инфраструктура, хороший транспорт. Золотая середина для семей.

Транспортная доступность:

Метро — основа жизни в Петербурге. Без метро добираться куда-то — ежедневный квест.

Пробки — главные магистрали забиты в часы пик. Если работаете в центре, выбирайте квартиру рядом с метро.

Аренда vs покупка:

Аренда — разумный выбор на первые полгода. Узнаете город, поймёте, где хотите жить.

Покупка — для тех, кто точно остаётся. Ипотека может быть дешевле аренды, но привязывает к локации.

Что учесть при просмотре:

Отопление — батареи должны быть горячими даже в межсезонье. Холодные квартиры — частая проблема старого фонда.

Окна — пластиковые стеклопакеты обязательны. Деревянные рамы — гарантия сквозняков зимой.

Подъезд — чистота и состояние подъезда показывают уровень дома и соседей.

Переезд в Петербург — это приключение. Выбирайте жильё с умом, и город откроется с лучшей стороны.""",
        "published_at": (datetime.now() - timedelta(days=50)).isoformat()
    }
]

print("Создаю статьи в блоге...")
for article in articles:
    try:
        if not db.post_exists(article["slug"]):
            post_id = db.create_post(**article)
            print(f"✓ Создана: {article['title']} (ID: {post_id})")
        else:
            print(f"⊙ Уже существует: {article['title']}")
    except Exception as e:
        print(f"✗ Ошибка: {article['title']}: {e}")

print(f"\nГотово! Всего статей в блоге: {len(db.get_all_posts())}")
