# Cian Analyzer - Веб-приложение

Умный анализ недвижимости на основе данных с Cian.ru

## Быстрый старт

### Запуск сервера

```bash
cd /home/user/cian-analyzer
./start_server.sh
```

Или вручную:

```bash
cd /home/user/cian-analyzer
export PYTHONPATH="$(pwd):$PYTHONPATH"
python3 webapp/app_main.py
```

## Доступные страницы

После запуска сервера откройте в браузере:

- **Лендинг** (главная страница): http://127.0.0.1:5000/
- **Калькулятор** (анализ недвижимости): http://127.0.0.1:5000/calculator
- **Парсер** (простой парсер объявлений): http://127.0.0.1:5000/parser

## API эндпоинты

- `POST /parse` - парсинг объявления (для простого парсера)
- `POST /api/parse` - парсинг объявления (для калькулятора)
- `POST /api/analyze` - анализ недвижимости (в разработке)
- `GET /health` - проверка здоровья сервиса

## Структура проекта

```
webapp/
├── app_main.py          # Главное приложение Flask
├── templates/           # HTML шаблоны
│   ├── landing.html     # Лендинг страница
│   ├── calculator.html  # Калькулятор-визард
│   └── index.html       # Простой парсер
├── static/              # Статические файлы
│   ├── css/
│   │   └── wizard.css   # Стили для калькулятора
│   └── js/
│       └── wizard.js    # JavaScript для калькулятора
└── requirements.txt     # Зависимости
```

## Зависимости

- Flask >= 3.0.0
- Playwright >= 1.40.0
- BeautifulSoup4 >= 4.12.0
- lxml >= 4.9.0

## Возможности

### Лендинг страница
- Красивая презентация сервиса
- Описание функций
- Кнопки для перехода к калькулятору

### Калькулятор недвижимости
- Трехшаговый визард
- Парсинг объявления по ссылке
- Поиск аналогов
- Расчет справедливой цены
- Сценарии продажи
- Графики и визуализация

### Простой парсер
- Быстрый парсинг одного объявления
- Вывод в формате Markdown
- Копирование результата

## Разработка

Для разработки запустите с debug mode:

```bash
python3 webapp/app_main.py
```

Debugger PIN будет показан в консоли.

## Примечания

- Это development сервер, не используйте в production
- Для production используйте gunicorn или другой WSGI сервер
- Playwright требует установки браузеров: `playwright install chromium`
