// โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
// Pixel Loader - ะะตัะตะปัะต ะฟะธะบัะตะปัะฝัะต ะปะพะฐะดะตัั
// โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

const pixelLoader = {
    // ะกะผะตัะฝัะต ัะตะบััั ะดะปั ัะฐะทะฝัั ััะฐะฟะพะฒ
    messages: {
        // ะะฐััะธะฝะณ ะพะฑัะตะบัะฐ
        parsing: [
            '๐ ะะฒะพะฝั ะฐะณะตะฝัั ัะทะฝะฐัั ะบะฐะบ ะดะตะปะฐ...',
            '๐ ะะณะตะฝั ะณะพะฒะพัะธั "ะฟะตัะตะทะฒะพะฝะธัะต ัะตัะตะท 5 ะผะธะฝัั"...',
            '๐ข ะะตะณั ะฒ ะะพััะตะตััั ะทะฐ ะฒัะฟะธัะบะพะน ะะะะ...',
            '๐ ะัะตัะตะดั ะฒ ะะพััะตะตััั... ััะพั 47-ะน...',
            '๐ ะัะพะฒะตััั ะตััั ะปะธ ั ะบะฒะฐััะธัั ะดะพะปะณะธ...',
            '๐ฐ ะกะผะพััั ะบัะพ ะฟะปะฐัะธั ะทะฐ ะะะฅ...',
            '๐ ะะทััะฐั ะฟะปะฐะฝะธัะพะฒะบั ัะตัะตะท ะทะฐะผะพัะฝัั ัะบะฒะฐะถะธะฝั...',
            '๐ ะะตััั ะฟะปะพัะฐะดั ะปะฐะทะตัะฝะพะน ััะปะตัะบะพะน...',
            '๐ช ะกัััััั ะบ ัะพัะตะดัะผ ัะทะฝะฐัั ะฟัะพ ััะผ...',
            '๐ ะัั ะฟะพะดะฒะพั ะฒ ะพะฑััะฒะปะตะฝะธะธ...',
        ],

        // ะะพะธัะบ ะฐะฝะฐะปะพะณะพะฒ
        searching: [
            '๐งฌ ะัะธะผะตะฝัั ัะตัะฝะธะบั ะบะปะพะฝะธัะพะฒะฐะฝะธั...',
            '๐ฅ ะัะปะธัะฝะพ, ะผะตะฝั ัะตะฟะตัั 100!',
            '๐โโ๏ธ ะะตะณะฐั ะฟะพ ัะฐะนะพะฝั ัะผะพััั ะฟะพัะพะถะธะต ะบะฒะฐััะธัั...',
            '๐บ๏ธ ะะทััะฐั ะบะฐััั ัะฐะนะพะฝะฐ ะบะฐะบ ัะฐะบัะธัั...',
            '๐ ะะฐะณะปัะดัะฒะฐั ะฒ ะพะบะฝะฐ ัะพัะตะดะฝะธั ะดะพะผะพะฒ...',
            '๐ฑ ะะธััะฐั ะฆะธะฐะฝ ะบะฐะบ Instagram...',
            '๐ฏ ะะฐัะตะป! ะะตั, ััะพ ะฝะต ัะพ...',
            '๐ ะัั ะธะณะพะปะบั ะฒ ััะพะณะต ัะตะฝะฐ...',
            '๐๏ธ ะะฑัะพะถั ะฒะตัั ะะ ะฟะตัะบะพะผ...',
            '๐ ะกะผะพััั ะฝะฐ ะพะฑััะฒะปะตะฝะธั ัะพัะตะดะตะน...',
            '๐ ะกัะธัะฐั ัะบะพะปัะบะพ ะพะบะพะฝ ะฝะฐ ััะฐะถ...',
            '๐ถ ะะตััั ัะฐัััะพัะฝะธะต ะดะพ ะผะตััะพ ัะฐะณะฐะผะธ...',
        ],

        // ะะฝะฐะปะธะท
        analyzing: [
            '๐งฎ ะะบะปััะฐั ัะตะถะธะผ ะณะตะฝะธั ะผะฐัะตะผะฐัะธะบะธ...',
            '๐ ะกััะพั ะณัะฐัะธะบะธ ะบะฐะบ ะฑะตะทัะผะฝัะน ััะตะฝัะน...',
            '๐ฌ ะะฝะฐะปะธะทะธััั ะดะฐะฝะฝัะต ะฟะพะด ะผะธะบัะพัะบะพะฟะพะผ...',
            '๐ค ะะฐะดะตะฒะฐั ะพัะบะธ ะดะปั ัะผะฝัั...',
            '๐ ะะธััั ััะตะฝะดั ัะตะฝ ะฝะฐ ัะฐะปัะตัะบะต...',
            '๐ก ะญะฒัะธะบะฐ! ะะปะธ ะฝะตั...',
            '๐ ะัะธะผะตะฝัั ะทะฝะฐะฝะธั ะธะท ัะฝะธะฒะตัะฐ...',
            '๐ง ะะบัะธะฒะธััั ะฒัะต ะฝะตะนัะพะฝั...',
            '๐ ะัะฒะพะถั ัะปะพะถะฝัะต ัะพัะผัะปั...',
            'โก ะกัะธัะฐั ะฑััััะตะต ะบะฐะปัะบัะปััะพัะฐ...',
            '๐ฏ ะััะธัะปัั ะธะดะตะฐะปัะฝัั ัะตะฝั...',
            '๐ฐ ะะฟัะตะดะตะปัั ััะพะธั ะปะธ ะพะฝะพ ัะพะณะพ...',
        ],

        // ะะปะพะฝะธัะพะฒะฐะฝะธะต (ะบะพะณะดะฐ ะฟะฐััะธะผ ะผะฝะพะณะพ ะฐะฝะฐะปะพะณะพะฒ)
        cloning: [
            '๐งฌ ะะปะพะฝะธัะพะฒะฐะฝะธะต ะฝะฐัะฐะปะพัั...',
            '๐ฅ ะะดะธะฝ ั... ะะฒะฐ ั... ะขัะธ ั...',
            '๐ ะะฐะทะผะฝะพะถะฐััั ะบะฐะบ ะฐะผัะฑะฐ...',
            '๐ฏ ะะฐั ัะถะต ัะตะปะฐั ะฐัะผะธั!',
            '๐ญ ะะณัะฐั ะฒัะต ัะพะปะธ ัะฐะผ...',
        ]
    },

    currentLoader: null,
    currentMessageIndex: 0,
    messageInterval: null,
    iconClass: 'agent',

    // ะะพะบะฐะทะฐัั ะปะพะฐะดะตั
    show(type = 'parsing') {
        // ะกะพะทะดะฐะตะผ ะปะพะฐะดะตั ะตัะปะธ ะตะณะพ ะฝะตั
        if (!document.getElementById('pixel-loader')) {
            this.create();
        }

        const loader = document.getElementById('pixel-loader');
        const textElement = document.getElementById('pixel-text');
        const iconElement = document.querySelector('.pixel-icon');

        // ะฃััะฐะฝะฐะฒะปะธะฒะฐะตะผ ัะธะฟ ะปะพะฐะดะตัะฐ
        loader.className = 'pixel-loader ' + type;
        this.currentLoader = type;
        this.currentMessageIndex = 0;

        // ะฃััะฐะฝะฐะฒะปะธะฒะฐะตะผ ะธะบะพะฝะบั ะฒ ะทะฐะฒะธัะธะผะพััะธ ะพั ัะธะฟะฐ
        const icons = {
            parsing: 'agent',
            searching: 'house',
            analyzing: 'document',
            cloning: 'agent'
        };
        iconElement.className = 'pixel-icon ' + icons[type];

        // ะะพะบะฐะทัะฒะฐะตะผ ะฟะตัะฒะพะต ัะพะพะฑัะตะฝะธะต
        const messages = this.messages[type] || this.messages.parsing;
        textElement.textContent = messages[0] + ' ' + messages[0]; // ะัะฑะปะธััะตะผ ะดะปั ะฑะตััะพะฒะฝะพะน ะฐะฝะธะผะฐัะธะธ

        // ะะพะบะฐะทัะฒะฐะตะผ ะปะพะฐะดะตั
        loader.style.display = 'flex';

        // ะะฐะฟััะบะฐะตะผ ัะผะตะฝั ัะพะพะฑัะตะฝะธะน
        this.startMessageRotation(type);
    },

    // ะกะบัััั ะปะพะฐะดะตั
    hide() {
        const loader = document.getElementById('pixel-loader');
        if (loader) {
            loader.style.display = 'none';
        }

        // ะััะฐะฝะฐะฒะปะธะฒะฐะตะผ ัะผะตะฝั ัะพะพะฑัะตะฝะธะน
        if (this.messageInterval) {
            clearInterval(this.messageInterval);
            this.messageInterval = null;
        }
    },

    // ะกะพะทะดะฐัั ะปะพะฐะดะตั ะฒ DOM
    create() {
        const loaderHTML = `
            <div id="pixel-loader" class="pixel-loader" style="display: none;">
                <div class="pixel-loader-content">
                    <div class="pixel-loader-screen">
                        <!-- ะะตะณััะฐั ัััะพะบะฐ ั ะฟะธะบัะตะปัะฝัะผ ัะตะบััะพะผ -->
                        <div class="pixel-marquee">
                            <div class="pixel-marquee-track" id="pixel-text">
                                ๐ ะะฐะณััะทะบะฐ...
                            </div>
                        </div>

                        <!-- ะะธะบัะตะปัะฝัะน ะฟัะพะณัะตัั ะฑะฐั -->
                        <div class="pixel-progress-bar">
                            <div class="pixel-progress-fill"></div>
                        </div>

                        <!-- ะะธะบัะตะปัะฝะฐั ะธะบะพะฝะบะฐ -->
                        <div class="pixel-icon agent"></div>
                    </div>
                </div>
            </div>
        `;

        document.body.insertAdjacentHTML('beforeend', loaderHTML);
    },

    // ะะพัะฐัะธั ัะพะพะฑัะตะฝะธะน
    startMessageRotation(type) {
        const messages = this.messages[type] || this.messages.parsing;
        const textElement = document.getElementById('pixel-text');

        // ะะตะฝัะตะผ ัะพะพะฑัะตะฝะธะต ะบะฐะถะดัะต 3 ัะตะบัะฝะดั
        this.messageInterval = setInterval(() => {
            this.currentMessageIndex = (this.currentMessageIndex + 1) % messages.length;
            const message = messages[this.currentMessageIndex];

            // ะัะฑะปะธััะตะผ ัะตะบัั ะดะปั ะฑะตััะพะฒะฝะพะน ะฑะตะณััะตะน ัััะพะบะธ
            textElement.textContent = message + ' โก ' + message + ' โก ';
        }, 3000);
    },

    // ะะพะบะฐะทะฐัั ะบะพะฝะบัะตัะฝะพะต ัะพะพะฑัะตะฝะธะต
    showMessage(message, type = 'parsing') {
        if (!document.getElementById('pixel-loader')) {
            this.create();
        }

        const loader = document.getElementById('pixel-loader');
        const textElement = document.getElementById('pixel-text');

        loader.className = 'pixel-loader ' + type;
        textElement.textContent = message + ' โก ' + message + ' โก ';
        loader.style.display = 'flex';
    }
};

// ะญะบัะฟะพััะธััะตะผ ะดะปั ะธัะฟะพะปัะทะพะฒะฐะฝะธั
window.pixelLoader = pixelLoader;

// โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
// ะะฝัะตะณัะฐัะธั ั ัััะตััะฒัััะธะผ ะบะพะดะพะผ wizard
// โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

// ะัะธะผะตั ะธัะฟะพะปัะทะพะฒะฐะฝะธั:

/*
// ะัะธ ะฟะฐััะธะฝะณะต URL
pixelLoader.show('parsing');
// ... ะฟะฐััะธะฝะณ ...
pixelLoader.hide();

// ะัะธ ะฟะพะธัะบะต ะฐะฝะฐะปะพะณะพะฒ
pixelLoader.show('searching');
// ... ะฟะพะธัะบ ...
pixelLoader.hide();

// ะัะธ ะฐะฝะฐะปะธะทะต
pixelLoader.show('analyzing');
// ... ะฐะฝะฐะปะธะท ...
pixelLoader.hide();

// ะะปั ะฟะพะบะฐะทะฐ ะบะพะฝะบัะตัะฝะพะณะพ ัะพะพะฑัะตะฝะธั
pixelLoader.showMessage('๐ ะะตะณั ะทะฐ ะบะพัะต...', 'parsing');
*/
